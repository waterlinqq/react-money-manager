(this["webpackJsonpreact-ts"]=this["webpackJsonpreact-ts"]||[]).push([[0],{113:function(e,t,n){e.exports={Main:"Main_Main__32U6n",Notice:"Main_Notice__Mc6bU"}},114:function(e,t,n){e.exports={Chart:"Chart_Chart__1ni9I",Total:"Chart_Total__1OcVz"}},115:function(e,t,n){e.exports={RecordList:"RecordList_RecordList__2g_qn",Title:"RecordList_Title__5F56x"}},116:function(e,t,n){e.exports={Remind:"Remind_Remind__1YzWX",Plus:"Remind_Plus__2FLth"}},119:function(e,t,n){e.exports={Chart:"Chart_Chart__3CiFs",Total:"Chart_Total__1PUf-"}},120:function(e,t,n){e.exports={RecordList:"RecordList_RecordList__e-D4p",Title:"RecordList_Title__3Fafu"}},139:function(e,t,n){e.exports=n.p+"static/media/\u8a55\u50f9\u6211\u5011.384b3781.svg"},140:function(e,t,n){e.exports=n.p+"static/media/\u522a\u9664.650cdc57.svg"},146:function(e,t,n){e.exports={Navbar:"Navbar_Navbar__I_G9v"}},147:function(e,t,n){e.exports={Grid:"Grid_Grid__3iuvg"}},148:function(e,t,n){e.exports={Grids:"Grids_Grids__1Wq6e"}},152:function(e,t,n){e.exports={LogRecord:"LogRecord_LogRecord__1G1ot"}},155:function(e,t,n){e.exports={Add:"Add_Add__2jTPg"}},157:function(e,t,n){e.exports={Edit:"Edit_Edit___HoDb"}},158:function(e,t,n){e.exports={Overview:"Overview_Overview__zwQtT"}},159:function(e,t,n){e.exports={Setting:"Setting_Setting__WMx6G"}},168:function(e,t,n){e.exports={CategoryView:"CategoryView_CategoryView__mOlQd"}},172:function(e,t,n){e.exports=n(303)},257:function(e,t,n){var a={"./\u522a\u9664.svg":140,"./\u5716\u8868.svg":258,"./\u5c0e\u51fa.svg":259,"./\u767b\u5165.svg":260,"./\u8a2d\u7f6e.svg":261,"./\u8a55\u50f9\u6211\u5011.svg":139,"./\u95dc\u65bc.svg":262,"./\u985e\u5225.svg":263};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=257},258:function(e,t,n){e.exports=n.p+"static/media/\u5716\u8868.718c793e.svg"},259:function(e,t,n){e.exports=n.p+"static/media/\u5c0e\u51fa.24a1375a.svg"},260:function(e,t,n){e.exports=n.p+"static/media/\u767b\u5165.5fec04de.svg"},261:function(e,t,n){e.exports=n.p+"static/media/\u8a2d\u7f6e.7af33545.svg"},262:function(e,t,n){e.exports=n.p+"static/media/\u95dc\u65bc.eca1b978.svg"},263:function(e,t,n){e.exports=n.p+"static/media/\u985e\u5225.78494bd2.svg"},27:function(e,t,n){e.exports={Balance:"Balence_Balance__3F6zA",Benefit:"Balence_Benefit__1d3GR",Cost:"Balence_Cost__1Gn-z",Block:"Balence_Block__38NBK",Title:"Balence_Title__2b8WJ",Number:"Balence_Number__3gKnm"}},300:function(e,t,n){e.exports=n.p+"static/media/\u8f09\u5165.68228cc4.jpg"},301:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"reqGetRecord",(function(){return H})),n.d(a,"reqAddRecord",(function(){return q})),n.d(a,"reqUpdateRecord",(function(){return P})),n.d(a,"reqDeleteRecord",(function(){return B})),n.d(a,"reqAddReminder",(function(){return W})),n.d(a,"reqDelReminder",(function(){return U})),n.d(a,"reqGetReminder",(function(){return G})),n.d(a,"reqModReminder",(function(){return J}));var r={};n.r(r),n.d(r,"reqGetRecord",(function(){return $})),n.d(r,"reqAddRecord",(function(){return ee})),n.d(r,"reqUpdateRecord",(function(){return te})),n.d(r,"reqDeleteRecord",(function(){return ne})),n.d(r,"reqGetReminder",(function(){return ae})),n.d(r,"reqAddReminder",(function(){return re})),n.d(r,"reqModReminder",(function(){return ce})),n.d(r,"reqDelReminder",(function(){return oe}));var c=n(0),o=n.n(c),i=n(12),u=n.n(i),s=n(17),l=n(34);n(123);l.initializeApp({apiKey:"AIzaSyDmDtZQueyX0QHZjFBCFwSNdorl2H8HAIw",authDomain:"money-manager-a21b9.firebaseapp.com",databaseURL:"https://money-manager-a21b9.firebaseio.com",projectId:"money-manager-a21b9",storageBucket:"money-manager-a21b9.appspot.com"});var m=n(16),d=n(19),p=n(22),f=n(21),v=n(45),h=n(24),y=n(310),b=n(309),g=n(2),E=n.n(g),_=n(8),k=(n(186),n(9)),O=n.n(k),x=n(50),j=n(144),w=n(145),R=n(43),N=n(35),C={},S={},I=Object(x.combineReducers)({records:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add_record":var n=t.payload,a=n.key,r=n.value;return Object(N.a)(Object(R.a)({},a,r),e);case"del_record":return delete e[t.payload],Object(N.a)({},e);case"mod_record":var c=t.payload,o=c.key,i=c.value;return e[o]=Object.assign(e[o],i),Object(N.a)({},e);case"get_record":return t.payload;default:return e}},month:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_month":return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_user":return t.payload;default:return e}},reminders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add_reminder":var n=t.payload,a=n.key,r=n.value;return Object(N.a)(Object(N.a)({},e),{},Object(R.a)({},a,r));case"del_reminder":return delete e[t.payload],Object(N.a)({},e);case"mod_reminder":var c=t.payload,o=c.key,i=c.value;return e[o]=Object.assign(e[o],i),Object(N.a)({},e);case"get_reminder":return t.payload;default:return e}}}),D=[j.a],M=x.applyMiddleware.apply(void 0,D),T=Object(x.createStore)(I,Object(w.composeWithDevTools)(M)),A=function(){return T.getState().user.uid},Y=l.database().ref("record"),L=l.database().ref("remind"),H=function(){var e=Object(_.a)(E.a.mark((function e(t){var n,a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Y.child(A()),!(t instanceof Date)){e.next=9;break}return r=O()(t).format("YYYY-MM-01"),c=O()(t).format("YYYY-MM-31"),e.next=6,n.orderByChild("date").startAt(r).endAt(c).once("value");case 6:a=e.sent,e.next=18;break;case 9:if("string"!==typeof t){e.next=15;break}return e.next=12,n.orderByKey().equalTo(t).once("value");case 12:a=e.sent,e.next=18;break;case 15:return e.next=17,n.once("value");case 17:a=e.sent;case 18:return e.abrupt("return",a.val()||{});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(_.a)(E.a.mark((function e(t){var n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Y.child(A()),e.next=3,n.push(t);case 3:return a=e.sent,e.next=6,a.once("value");case 6:return r=e.sent,e.abrupt("return",{key:a.key,value:r.val()});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(_.a)(E.a.mark((function e(t,n){var a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Y.child(A()),r=a.child(t),e.next=4,r.update(n);case 4:return e.next=6,r.once("value");case 6:return c=e.sent,e.abrupt("return",{key:r.key,value:c.val()});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(_.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Y.child(A()),a=n.child(t),e.next=4,a.remove();case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(_.a)(E.a.mark((function e(t){var n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.child(A()),e.next=3,n.push({time:t,on:!0});case 3:return a=e.sent,e.next=6,a.once("value");case 6:return r=e.sent,e.abrupt("return",{key:a.key,value:r.val()});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(_.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.child(A()),a=n.child(t),e.next=4,a.remove();case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(_.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=L.child(A()),e.next=3,t.once("value");case 3:return n=e.sent,e.abrupt("return",n.val()||{});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(_.a)(E.a.mark((function e(t,n){var a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.child(A()),r=a.child(t),e.next=4,r.update(n);case 4:return e.next=6,r.once("value");case 6:return c=e.sent,e.abrupt("return",{key:r.key,value:c.val()});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=n(13),z=function e(){Object(m.a)(this,e)},V=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a,r=e.type,c=e.amount,o=e.date,i=e.category,u=e.mark;return Object(m.a)(this,n),(a=t.call(this)).type=void 0,a.amount=void 0,a.date=void 0,a.category=void 0,a.mark=void 0,a.type=r,a.amount=c,a.date=o,a.category=i,a.mark=u,a}return Object(d.a)(n,[{key:"save",value:function(){var e=this;return new Promise((function(t,a){var r=Date.now()+" "+Math.random();n.data[r]=e,localStorage.setItem("MONEYRECORD",JSON.stringify(n.data)),t({key:r,value:e})}))}},{key:"delete",value:function(){var e=this;return new Promise((function(t,a){var r=n.data;Object.keys(r).some((function(t){return r[t]===e&&delete r[t]})),localStorage.setItem("MONEYRECORD",JSON.stringify(n.data)),t(!0)}))}},{key:"update",value:function(e){var t=this;return new Promise((function(a,r){Object.assign(t,e),localStorage.setItem("MONEYRECORD",JSON.stringify(n.data)),a(!0)}))}}],[{key:"update",value:function(e,t){var a=this;return new Promise((function(r,c){Object.assign(a.data[e],t),localStorage.setItem("MONEYRECORD",JSON.stringify(n.data)),r(!0)}))}},{key:"delete",value:function(e){return new Promise((function(t,a){delete n.data[e],localStorage.setItem("MONEYRECORD",JSON.stringify(n.data)),t(!0)}))}},{key:"find",value:function(e){var t=this;return new Promise((function(n,a){if(e instanceof Date){for(var r={},c=O()(e).format("YYYY-MM-01"),o=O()(e).format("YYYY-MM-31"),i=0,u=Object.entries(t.data);i<u.length;i++){var s=Object(F.a)(u[i],2),l=s[0],m=s[1];m.date>=c&&m.date<=o&&(r[l]=m)}n(r)}else n("string"===typeof e?Object(R.a)({},e,t.data[e]):t.data)}))}}]),n}(z);V.data=JSON.parse(localStorage.getItem("MONEYRECORD")||"{}");var K=V,Q=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this)).time=e,a.on=!0,a}return Object(d.a)(n,[{key:"save",value:function(){var e=this;return new Promise((function(t,a){var r=Date.now()+" "+Math.random();n.data[r]=e,localStorage.setItem("REMINDER",JSON.stringify(n.data)),t({key:r,value:e})}))}},{key:"delete",value:function(){var e=this;return new Promise((function(t,a){var r=n.data;Object.keys(r).some((function(t){return r[t]===e&&delete r[t]})),localStorage.setItem("REMINDER",JSON.stringify(n.data)),t(!0)}))}},{key:"update",value:function(e){var t=this;return new Promise((function(a,r){Object.assign(t,e),localStorage.setItem("REMINDER",JSON.stringify(n.data)),a(!0)}))}}],[{key:"update",value:function(e,t){var a=this;return new Promise((function(r,c){Object.assign(a.data[e],t),localStorage.setItem("REMINDER",JSON.stringify(n.data)),r(!0)}))}},{key:"delete",value:function(e){return new Promise((function(t,a){delete n.data[e],localStorage.setItem("REMINDER",JSON.stringify(n.data)),t(!0)}))}},{key:"find",value:function(){var e=this;return new Promise((function(t,n){t(e.data)}))}}]),n}(z);Q.data=JSON.parse(localStorage.getItem("REMINDER")||"{}");var Z,X=Q,$=function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.find(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new K(t).save());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(_.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.update(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.delete(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(_.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.find());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new X(t).save());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(_.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.update(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.delete(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=new Proxy({},{get:function(e,t){return(T.getState().user?a:r)[t]}}),ue=ie,se=function(e){return{type:"add_record",payload:e}},le=function(e){return{type:"del_record",payload:e}},me=function(e){return{type:"get_record",payload:e}},de=function(e){return function(){var t=Object(_.a)(E.a.mark((function t(n){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue.reqGetRecord(e);case 2:a=t.sent,n(me(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},pe=function(e){return{type:"add_reminder",payload:e}},fe=function(e){return{type:"del_reminder",payload:e}},ve=function(e){return{type:"get_reminder",payload:e}},he=function(){return function(){var e=Object(_.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.reqGetReminder();case 2:n=e.sent,t(ve(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ye=(n(37),n(20)),be=n.n(ye),ge=n(146),Ee=n.n(ge),_e=function(e){var t=e.leftIcon,n=e.mainItem,a=e.rightIcon;return o.a.createElement("div",{className:Ee.a.Navbar},o.a.createElement("nav",null,t||null,n||null,a||null))},ke=n(147),Oe=n.n(ke),xe=function(e){var t=e.category,n=e.type,a=e.clicked;return o.a.createElement("div",{className:Oe.a.Grid,onClick:function(){return a(t)}},o.a.createElement("div",{className:"".concat(n,"-img ").concat(t)}),o.a.createElement("span",null,t))},je=n(148),we=n.n(je),Re=function(e){var t=e.icons,n=e.clicked,a=e.type;return o.a.createElement("div",{className:we.a.Grids},t.map((function(e,t){return o.a.createElement(xe,{key:t,category:e.text,type:a,clicked:n})})))},Ne=n(46),Ce=n.n(Ne),Se=function(e){return"cost"===e?"\u652f\u51fa":"\u6536\u5165"},Ie=function(e){var t={},n={},a=0,r=0;return Object.entries(e).forEach((function(e){var c=Object(F.a)(e,2),o=c[0],i=c[1];"cost"===i.type?(t[o]=i,a+=i.amount):(n[o]=i,r+=i.amount)})),{records:e,costRecords:t,benefitRecords:n,benefitTotal:r,costTotal:a,balance:r-a}},De=function(e){var t=e.text,n=e.clicked,a=e.active,r=[Ce.a.Option];return a&&r.push(Ce.a.Active),o.a.createElement("div",{className:r.join(" "),onClick:n},t)},Me=function(e){var t=e.changed,n=e.type,a=Object(c.useState)(!1),r=Object(F.a)(a,2),i=r[0],u=r[1],s=function(e){return function(){e!==n&&t(e),u(!1)}};return o.a.createElement("div",{className:Ce.a.TypeSelect},o.a.createElement("div",{className:Ce.a.Mask,style:{display:i?"block":"none"},onClick:function(){return u(!1)}}),o.a.createElement("div",{className:Ce.a.Main,onClick:function(){return u(!i)}},o.a.createElement("span",null,Se(n)),o.a.createElement("span",{className:Ce.a.dropdown})),o.a.createElement("div",{className:Ce.a.Pop,style:{display:i?"block":"none"}},o.a.createElement(De,{text:"\u652f\u51fa",active:"cost"===n,clicked:s("cost")}),o.a.createElement(De,{text:"\u6536\u76ca",active:"benefit"===n,clicked:s("benefit")})))},Te=(n(231),n(110)),Ae=n.n(Te),Ye=n(87),Le=n.n(Ye),He=function(e){var t=e.type,n=e.category,a=e.amount,r=e.markChanged,i=e.mark,u=e.amountChanged,s=e.submit,l=Object(c.useRef)(null),m=function(){setTimeout((function(){return l.current.focus()}),100)};return Object(c.useEffect)(m,[n]),o.a.createElement("div",{className:Le.a.Inputs},n?o.a.createElement("div",{"data-img":!0,className:"".concat(t,"-img ").concat(n," ")}):null,o.a.createElement("div",{className:Le.a.Input},o.a.createElement(Ae.a,{type:"text",onChange:r,onBlur:m,value:i,placeholder:"\u5099\u8a3b"})),o.a.createElement("div",{className:Le.a.Input},o.a.createElement(Ae.a,{ref:l,type:"money",onChange:function(e){return u(Number(e))},onVirtualKeyboardConfirm:s,value:String(a)})))},qe=(n(242),n(149)),Pe=n.n(qe),Be=n(88),We=n.n(Be),Ue=function(e){var t=e.date,n=e.dateChanged,a=Object(c.useState)(!1),r=Object(F.a)(a,2),i=r[0],u=r[1],s=function(e){return function(){return u(e)}};return o.a.createElement("div",{className:We.a.DateSelect},o.a.createElement("div",{className:We.a.Toggle,onClick:s(!0)},o.a.createElement("span",null,"\u65e5\u671f\uff1a",O()(t).format("MM/DD")),o.a.createElement("span",{className:We.a.Dropdown})),o.a.createElement(Pe.a,{visible:i,type:"one",onCancel:s(!1),onConfirm:function(e){n(O()(e).format("YYYY-MM-DD")),u(!1)},defaultTimeValue:new Date}))},Ge=n(152),Je=n.n(Ge),Fe=[{type:"cost",text:"\u6c34\u96fb\u8cbb"},{type:"cost",text:"\u4ea4\u901a"},{type:"cost",text:"\u5bb6"},{type:"cost",text:"\u8eca"},{type:"cost",text:"\u5a1b\u6a02"},{type:"cost",text:"\u670d\u88dd"},{type:"cost",text:"\u4fdd\u96aa"},{type:"cost",text:"\u7a0e"},{type:"cost",text:"\u96fb\u8a71\u8cbb"},{type:"cost",text:"\u9999\u7159"},{type:"cost",text:"\u5065\u5eb7"},{type:"cost",text:"\u904b\u52d5"},{type:"cost",text:"\u5b69\u5b50"},{type:"cost",text:"\u5bf5\u7269"},{type:"cost",text:"\u7f8e\u5bb9"},{type:"cost",text:"\u96fb\u5b50\u7522\u54c1"},{type:"cost",text:"\u6f22\u5821\u5305"},{type:"cost",text:"\u9152\u985e"},{type:"cost",text:"\u852c\u83dc"},{type:"cost",text:"\u5c0f\u5403"},{type:"cost",text:"\u79ae\u54c1"},{type:"cost",text:"\u793e\u4ea4"},{type:"cost",text:"\u65c5\u884c"},{type:"cost",text:"\u6559\u80b2"},{type:"cost",text:"\u6c34\u679c"},{type:"cost",text:"\u8fa6\u516c"},{type:"cost",text:"\u66f8"},{type:"cost",text:"\u5427"},{type:"cost",text:"\u8cfc\u7269"},{type:"cost",text:"\u5176\u4ed6"},{type:"cost",text:"\u9910\u98f2"},{type:"cost",text:"\u5176\u4ed6"},{type:"benefit",text:"\u85aa\u6c34"},{type:"benefit",text:"\u734e\u91d1"},{type:"benefit",text:"\u6350\u8d08"},{type:"benefit",text:"\u8cb7\u8ce3"},{type:"benefit",text:"\u51fa\u79df"},{type:"benefit",text:"\u9000\u6b3e"},{type:"benefit",text:"\u512a\u60e0\u5377"},{type:"benefit",text:"\u5f69\u7968"},{type:"benefit",text:"\u80a1\u606f"},{type:"benefit",text:"\u6295\u8cc7"},{type:"benefit",text:"\u5176\u4ed6"}],ze=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={type:"cost",amount:0,mark:"",category:"",date:O()().format("YYYY-MM-DD")},e.gridClickHandler=function(t){e.setState({category:t})},e.typeChangeHandler=function(t){return e.setState({type:t})},e.amountChangeHandler=function(t){return e.setState({amount:t})},e.markChangeHandler=function(t){return e.setState({mark:t})},e.dateChangeHandler=function(t){return e.setState({date:t})},e.submitHandler=Object(_.a)(E.a.mark((function t(){var n,a,r,c,o,i,u,s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,a=n.type,r=n.amount,c=n.category,o=n.date,i=n.mark,u=e.props.match.params.key,s={type:a,amount:r,category:c,date:o,mark:i},""!==c){t.next=6;break}return alert("\u8acb\u9078\u64c7\u985e\u5225"),t.abrupt("return");case 6:if(null==u){t.next=11;break}return t.next=9,e.props.modRecord(u,s);case 9:t.next=13;break;case 11:return t.next=13,e.props.addRecord(s);case 13:e.props.history.go(-1);case 14:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(n,[{key:"componentWillMount",value:function(){var e=Object(_.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=this.props.match.params.key)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ue.reqGetRecord(t);case 5:n=e.sent,a=n[t],this.setState({type:a.type,amount:a.amount,category:a.category,date:a.date,mark:a.mark});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.type,a=t.amount,r=t.category,c=t.mark,i=t.date,u=Fe.filter((function(e){return e.type===n}));return o.a.createElement("div",{className:Je.a.LogRecord},o.a.createElement(_e,{leftIcon:o.a.createElement(be.a,{type:"left",onClick:function(){return e.props.history.go(-1)}}),mainItem:o.a.createElement(Me,{type:n,changed:this.typeChangeHandler}),rightIcon:o.a.createElement(Ue,{date:i,dateChanged:this.dateChangeHandler})}),o.a.createElement(Re,{type:n,icons:u,clicked:this.gridClickHandler}),o.a.createElement(He,{type:n,amount:a,mark:c,category:r,amountChanged:this.amountChangeHandler,markChanged:this.markChangeHandler,submit:this.submitHandler}))}}]),n}(c.Component),Ve=Object(v.f)(Object(s.b)((function(){return{}}),{addRecord:function(e){return function(){var t=Object(_.a)(E.a.mark((function t(n){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue.reqAddRecord(e);case 2:a=t.sent,n(se(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},modRecord:function(e,t){return function(){var n=Object(_.a)(E.a.mark((function n(a){return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ue.reqUpdateRecord(e,t);case 2:a({type:"mod_record",payload:{key:e,value:t}});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(ze)),Ke=(n(79),n(44)),Qe=n.n(Ke),Ze=(n(252),n(154)),Xe=n.n(Ze),$e=(n(62),n(26)),et=n.n($e),tt=n(27),nt=n.n(tt),at=Object(v.f)((function(e){var t=e.costTotal,n=e.benefitTotal,a=e.balance,r=e.history,c=[nt.a.Benefit,nt.a.Number].join(" "),i=[nt.a.Cost,nt.a.Number].join(" "),u=[nt.a.Number,a>0?nt.a.Benefit:nt.a.Cost].join(" ");return o.a.createElement("div",{className:nt.a.Balance},o.a.createElement("div",{className:nt.a.Block,onClick:function(){return r.push("/overview/benefit")}},o.a.createElement("span",{className:nt.a.Title},"\u6536\u5165"),o.a.createElement("span",{className:c},n)),o.a.createElement("hr",null),o.a.createElement("div",{className:nt.a.Block,onClick:function(){return r.push("/overview/cost")}},o.a.createElement("span",{className:nt.a.Title},"\u652f\u51fa"),o.a.createElement("span",{className:i},t)),o.a.createElement("hr",null),o.a.createElement("div",{className:nt.a.Block},o.a.createElement("span",{className:nt.a.Title},"\u7d50\u9918"),o.a.createElement("span",{className:u},a)))})),rt=n(155),ct=n.n(rt),ot=function(){return o.a.createElement(h.b,{to:"/log"},o.a.createElement("div",{className:ct.a.Add},"+"))},it=(n(38),n(18)),ut=n.n(it),st=function(e){var t=e.clicked,n={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.2)",zIndex:9999,display:e.show?"block":"none"};return o.a.createElement("div",{style:n,onClick:t})},lt={position:"fixed",top:"50%",left:"50%",padding:"20px",transform:"translate(-50%,-50%)",zIndex:999999,backgroundColor:"#fff",borderRadius:"5px",boxShadow:"0px 2px 3px #999"},mt=function(e){var t=e.children,n=e.show,a=e.onLeft,r=Object(c.useRef)(document.createElement("div"));Object(c.useEffect)((function(){var e=document.getElementById("modal"),t=r.current;return e.appendChild(t),function(){e.removeChild(t)}}),[]);var u=o.a.createElement("div",null,o.a.createElement("div",{style:lt},t),o.a.createElement(st,{clicked:a,show:n}));return n?Object(i.createPortal)(u,r.current):null},dt=function(){return o.a.createElement("div",{onClick:function(){return window.location.href="https://github.com/waterlinqq/react-money-manager"}},o.a.createElement("h2",null,"\u8acb\u7d66\u6211\u9846Star\u5427!"),o.a.createElement("p",{style:{color:"#666"}},"\u524d\u5f80\u6211\u7684github"),Array.from({length:5}).map((function(e,t){return o.a.createElement("img",{src:n(139),key:t,alt:"\u661f\u661f",style:{height:"25px",padding:"6px",color:"rgba(255, 217, 0, 0.876)"}})})))},pt=function(){return o.a.createElement("div",null,o.a.createElement("h3",null,"\uff2doney Manager"),o.a.createElement("p",null,"\u7248\u672c\u865f 1.0.0"))},ft=function(e){return function(t){t(function(e){return{type:"set_user",payload:e}}(e)),t(he()),t(de(T.getState().month))}},vt=function(){l.auth().signOut()},ht=function(){var e=Object(_.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new l.auth.GoogleAuthProvider,l.auth().signInWithRedirect(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yt=n(32),bt=n.n(yt),gt=ut.a.Item,Et=function(e){return n(257)("./".concat(e,".svg"))},_t=Object(v.f)(Object(s.b)((function(e){return{records:e.records,user:e.user}}))((function(e){var t=e.show,n=e.onLeft,a=e.history,r=e.records,i=e.user,u=Object(c.useState)(null),s=Object(F.a)(u,2),l=s[0],m=s[1],d=function(e){return function(){m(e),n()}},p=[bt.a.List].concat(t?bt.a.Active:"").join(" ");return o.a.createElement("div",{className:bt.a.Sidebar},o.a.createElement(mt,{show:!!l,onLeft:function(){return m(null)}},l),o.a.createElement("div",{className:p},o.a.createElement("div",{className:bt.a.Avatar,onClick:i?vt:ht},o.a.createElement("div",null,o.a.createElement("img",{src:(null===i||void 0===i?void 0:i.photoURL)||Et("\u767b\u5165"),alt:""}),o.a.createElement("span",null,(null===i||void 0===i?void 0:i.displayName)||"")),o.a.createElement("p",{className:bt.a.Log},i?"\u767b\u51fa":"\u767b\u5165")),o.a.createElement(ut.a,null,o.a.createElement(gt,{className:bt.a.Item,thumb:Et("\u5716\u8868"),onClick:function(){return a.push("/overview/income")}},o.a.createElement("span",null,"\u5716\u8868")),o.a.createElement("hr",null),o.a.createElement(gt,{className:bt.a.Item,thumb:Et("\u985e\u5225"),onClick:function(){return a.push("/category")}},o.a.createElement("span",null,"\u985e\u5225")),o.a.createElement(gt,{className:bt.a.Item,thumb:Et("\u5c0e\u51fa"),onClick:function(){return function(e){var t=Object.values(e).map((function(e){return[e.category,e.amount,e.date,e.mark,Se(e.type)]}));t.unshift(["\u985e\u578b","\u91d1\u984d","\u65e5\u671f","\u5099\u8a3b","\u5206\u985e"]);var n=t.reduce((function(e,t){return e+(t.join(",")+"\r\n")}),""),a=encodeURIComponent(n),r=document.createElement("a");r.setAttribute("href","data:text/csv;charset=utf-8,"+a),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click()}(r)}},o.a.createElement("span",null,"\u5c0e\u51fa")),o.a.createElement(gt,{className:bt.a.Item,thumb:Et("\u8a2d\u7f6e"),onClick:function(){return a.push("/setting")}},o.a.createElement("span",null,"\u8a2d\u7f6e")),o.a.createElement(gt,{className:bt.a.Item,thumb:Et("\u8a55\u50f9\u6211\u5011"),onClick:d(o.a.createElement(dt,null))},"\u8a55\u50f9\u6211\u5011"),o.a.createElement(gt,{className:bt.a.Item,onClick:d(o.a.createElement(pt,null)),thumb:Et("\u95dc\u65bc")},o.a.createElement("span",null,"\u95dc\u65bc")))),o.a.createElement(st,{show:t,clicked:n}))}))),kt=(n(264),n(156)),Ot=n.n(kt),xt=n(72),jt=n.n(xt),wt=function(e){var t=e.month,n=e.monthChanged,a=Object(c.useState)(t),r=Object(F.a)(a,2),i=r[0],u=r[1],s=Object(c.useState)(!1),l=Object(F.a)(s,2),m=l[0],d=l[1],p={display:m?"block":"none"};return o.a.createElement("div",{className:jt.a.MonthSelect},o.a.createElement("div",{onClick:function(){return d(!m)}},o.a.createElement("span",null,O()(t).format("YYYY\u5e74M\u6708")),o.a.createElement("span",{className:jt.a.Dropdown})),o.a.createElement("div",{className:jt.a.Mask,style:p,onClick:function(){d(!1),n(i)}}),o.a.createElement("div",{className:jt.a.Monthpicker},m?o.a.createElement(Ot.a,{mode:"month",value:i,onChange:function(e){return u(e)}}):null))},Rt=n(53),Nt=n.n(Rt),Ct=Object(v.f)((function(e){var t=e.dayData,n=e.history,a=Object.entries(t),r=a[0][1].date,c=a.reduce((function(e,t){var n=Object(F.a)(t,2),a=(n[0],n[1]);return e[a.type]+=a.amount,e}),{cost:0,benefit:0}),i=c.cost,u=c.benefit,s="\u9031"+["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"][O()(r).day()],l=O()(r).format("MM/DD");return o.a.createElement("div",{className:Nt.a.DayRecord},o.a.createElement("div",{className:Nt.a.Info},o.a.createElement("div",null,"".concat(l," ").concat(s)),o.a.createElement("div",{className:Nt.a.Total},0===u?null:o.a.createElement("span",null,"\u6536\u5165: ",u),0===i?null:o.a.createElement("span",null,"\u652f\u51fa: ",i))),o.a.createElement(ut.a,null,a.map((function(e){var t=Object(F.a)(e,2),a=t[0],r=t[1];return o.a.createElement("div",{key:a,onClick:function(){return n.push("/detail/".concat(a))},className:Nt.a.Item},o.a.createElement("div",{className:"".concat(r.type,"-img ").concat(r.category)}),o.a.createElement("span",{className:Nt.a.Title},r.category),o.a.createElement("span",{className:Nt.a.Amount},("cost"===r.type?"-":"")+r.amount))}))))})),St=function(e){var t=function(e){return Object.entries(e).reduce((function(e,t){var n=Object(F.a)(t,2),a=n[0],r=n[1],c=r.date;return e[c]||(e[c]={}),e[c][a]=r,e}),{})}(e.monthData),n=Object.entries(t).sort((function(e,t){return e[0]>t[0]?-1:1})).map((function(e){return e[1]}));return o.a.createElement(c.Fragment,null,n.map((function(e,t){return o.a.createElement(Ct,{dayData:e,key:t})})))},It=function(e){return function(t){t(function(e){return{type:"set_month",payload:e}}(e)),t(de(e))}},Dt=n(113),Mt=n.n(Dt),Tt=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isShowSidebar:!1},e.leftSidebarHandler=function(){e.setState({isShowSidebar:!1})},e.clickSidebarHandler=function(){e.setState({isShowSidebar:!e.state.isShowSidebar})},e.monthChangedHandler=function(t){e.props.setMonth(t)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.records,n=e.user,a=Ie(t);return o.a.createElement("div",{className:Mt.a.Main},o.a.createElement(_t,{show:this.state.isShowSidebar,onLeft:this.leftSidebarHandler}),o.a.createElement(_e,{leftIcon:o.a.createElement(be.a,{type:"ellipsis",onClick:this.clickSidebarHandler}),mainItem:o.a.createElement(wt,{month:this.props.month,monthChanged:this.monthChangedHandler})}),o.a.createElement(Qe.a,null,o.a.createElement(et.a,null),o.a.createElement(at,{costTotal:a.costTotal,benefitTotal:a.benefitTotal,balance:a.balance}),o.a.createElement(et.a,null),n?null:o.a.createElement(Xe.a,{mode:"closable",className:Mt.a.Notice,icon:o.a.createElement(be.a,{type:"check-circle-o",size:"xxs"}),onClick:ht},"\u8acb\u5118\u5feb\u767b\u5165\uff0c\u907f\u514d\u4e1f\u5931\u6578\u64da"),o.a.createElement(et.a,null),o.a.createElement(St,{monthData:t})),o.a.createElement(ot,null))}}]),n}(c.Component),At=Object(s.b)((function(e){return{records:e.records,month:e.month,user:e.user}}),{setMonth:It})(Tt),Yt=n(157),Lt=n.n(Yt),Ht=function(e){var t=e.to;return o.a.createElement(h.b,{to:t},o.a.createElement("div",{className:Lt.a.Edit},o.a.createElement(be.a,{type:"ellipsis"})))},qt=n(54),Pt=n.n(qt),Bt=ut.a.Item,Wt=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={key:"",type:"cost",amount:0,category:"\u5176\u4ed6",date:O()().format("YYYY-MM-DD"),mark:"\u9810\u8a2d"},e.deleteHandler=function(){window.confirm("\u78ba\u5b9a\u8981\u522a\u9664\u55ce")&&(e.props.delRecord(e.state.key),e.props.history.go(-1))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(_.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.key,e.next=3,ue.reqGetRecord(t);case 3:if(n=e.sent,null!=(a=Object.values(n)[0])){e.next=7;break}return e.abrupt("return");case 7:this.setState({key:t,type:a.type,amount:a.amount,category:a.category,date:a.date,mark:a.mark});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.category,a=e.date,r=e.amount,c=e.type,i=e.mark,u=e.key,s=this.props.history.go,l="\u9031"+["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"][O()(a).day()];return o.a.createElement("div",{className:Pt.a.Detail},o.a.createElement(_e,{leftIcon:o.a.createElement(be.a,{type:"left",onClick:function(){return s(-1)}}),mainItem:o.a.createElement("span",null,"\u8a73\u60c5"),rightIcon:o.a.createElement("img",{src:n(140),alt:"\u522a\u9664",onClick:this.deleteHandler})}),o.a.createElement(et.a,null),o.a.createElement(Qe.a,null,o.a.createElement("div",{className:Pt.a.Info},o.a.createElement("header",null,o.a.createElement("div",{"data-img":!0,className:"".concat(c,"-img ").concat(t)}),o.a.createElement("h2",null,t)),o.a.createElement(et.a,null),o.a.createElement(ut.a,null,o.a.createElement(Bt,null,o.a.createElement("span",{className:Pt.a.Title},"\u985e\u5225"),o.a.createElement("span",{className:"content"},c)),o.a.createElement(Bt,null,o.a.createElement("span",{className:Pt.a.Title},"\u91d1\u984d"),o.a.createElement("span",{className:"content"},r)),o.a.createElement(Bt,null,o.a.createElement("span",{className:Pt.a.Title},"\u65e5\u671f"),o.a.createElement("span",{className:"content"},"".concat(a," ").concat(l))),o.a.createElement(Bt,null,o.a.createElement("span",{className:Pt.a.Title},"\u5099\u8a3b"),o.a.createElement("span",{className:"content"},i))),o.a.createElement(Ht,{to:"/log/"+u}))))}}]),a}(c.Component),Ut=Object(v.f)(Object(s.b)((function(){return{}}),{delRecord:function(e){return function(){var t=Object(_.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue.reqDeleteRecord(e);case 2:n(le(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Wt)),Gt=n(71),Jt=n.n(Gt),Ft=n(114),zt=n.n(Ft),Vt=["#ffda44","#48c0e3","#52c5ab","#f7746d","#fbb957"],Kt=Object(v.f)((function(e){var t=e.categories,n=e.type,a=e.total,r=e.history,i=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=i.current.getContext("2d");if(t.length>5){var n=t.splice(4).reduce((function(e,t){return e+t[1]}),0);t.push(["\u5176\u4ed6",n])}var r=t.map((function(e){return e[0]})),c=t.map((function(e){return e[1]})),o=c.map((function(e){return(e/a*100).toFixed(1)}));Jt.a.defaults.global.elements.arc.borderWidth=12,new Jt.a(e,{type:"doughnut",data:{datasets:[{data:c,backgroundColor:Vt,borderWidth:0}],labels:r},options:{legend:{display:!0,position:"right",align:"start",labels:{boxWidth:20,fontColor:"#999",filter:function(){var e=arguments.length<=0?void 0:arguments[0];return e.text="".concat(e.text,"     ").concat(o.shift(),"%")}}}}})}),[t,a]),o.a.createElement("div",{className:zt.a.Chart,onClick:function(){return r.replace("/overview/".concat(function(e){return"cost"===e?"benefit":"cost"}(n)))}},o.a.createElement("span",null,Se(n)),o.a.createElement("span",{className:zt.a.Total},a),o.a.createElement("canvas",{ref:i}))})),Qt=(n(141),n(83)),Zt=n.n(Qt),Xt=n(67),$t=n.n(Xt),en=Object(v.f)((function(e){var t=e.category,n=e.amount,a=e.ratio,r=e.bar,c=e.history,i=e.type;return o.a.createElement(ut.a.Item,{style:{padding:"0px"},onClick:function(){return c.push("/category-view/?type=".concat(i,"&category=").concat(t))}},o.a.createElement("div",{className:$t.a.Wrapper},o.a.createElement("div",{"data-img":!0,className:"".concat(i,"-img ").concat(t)}),o.a.createElement("div",{className:$t.a.Info},o.a.createElement("span",{className:$t.a.Title},t),o.a.createElement("span",{className:$t.a.Amount},n),o.a.createElement("span",{className:$t.a.Ratio},a,"%"),o.a.createElement("div",null,o.a.createElement(Zt.a,{percent:r,position:"normal",barStyle:{borderColor:"#ffda44"},unfilled:!1})))))})),tn=n(115),nn=n.n(tn),an=function(e){var t=e.categories,n=e.total,a=e.type;return o.a.createElement("div",{className:nn.a.RecordList},o.a.createElement("span",{className:nn.a.Title},Se(a),"\u5217\u8868"),o.a.createElement(et.a,null),o.a.createElement(ut.a,null,t.map((function(e,r){var c=+(e[1]/t[0][1]*100).toFixed(1),i=+(e[1]/n*100).toFixed(1);return o.a.createElement(en,{key:r,category:e[0],amount:e[1],ratio:i,bar:c,type:a})}))))},rn=n(158),cn=n.n(rn),on=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).canvas=Object(c.createRef)(),e.sortedCategories=[],e.proxyRecords={},e}return Object(d.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.records!==this.props.records}},{key:"render",value:function(){var e=this.props.match.params.type,t=this.props,n=t.records,a=t.history,r=t.month,c=t.setMonth,i=this.proxyRecords=Ie(n),u=i["benefit"===e?"benefitRecords":"costRecords"],s=i["benefit"===e?"benefitTotal":"costTotal"],l=Object.values(u).reduce((function(e,t){var n=t.category;return e[n]||(e[n]=0),e[n]+=t.amount,e}),{});return this.sortedCategories=Object.entries(l).sort((function(e,t){return t[1]-e[1]})),o.a.createElement("div",{className:cn.a.Overview},o.a.createElement(_e,{leftIcon:o.a.createElement(be.a,{type:"left",onClick:function(){return a.go(-1)}}),mainItem:o.a.createElement(wt,{month:r,monthChanged:c})}),o.a.createElement(et.a,null),o.a.createElement(Qe.a,null,o.a.createElement(Kt,{type:e,categories:this.sortedCategories,total:s}),o.a.createElement(an,{type:e,categories:this.sortedCategories,total:s})))}}]),n}(c.Component),un=Object(v.f)(Object(s.b)((function(e){return{records:e.records,month:e.month}}),{setMonth:It})(on)),sn=n(159),ln=n.n(sn),mn=ut.a.Item,dn=mn.Brief,pn=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getReminderTimes=function(){return Object.values(e.props.reminders).filter((function(e){return e.on})).map((function(e){return e.time})).join("\u3001")},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.history,t=this.getReminderTimes();return o.a.createElement("div",{className:ln.a.Setting},o.a.createElement(_e,{leftIcon:o.a.createElement(be.a,{type:"left",onClick:function(){return e.go(-1)}}),mainItem:o.a.createElement("h3",null,"\u8a2d\u7f6e")}),o.a.createElement(ut.a,null,o.a.createElement(mn,{arrow:"horizontal",multipleLine:!0,onClick:function(){return e.push("remind")}},"\u667a\u80fd\u63d0\u9192 ",o.a.createElement(dn,null,"\u5728\u4ee5\u4e0b\u6642\u9593\u63d0\u9192 ",t))))}}]),n}(c.Component),fn=Object(v.f)(Object(s.b)((function(e){return{reminders:e.reminders}}))(pn)),vn=(n(273),n(160)),hn=n.n(vn),yn=n(308),bn=(n(305),n(116)),gn=n.n(bn),En=ut.a.Item,_n=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1,value:O()()},e.pickerChangeHandler=function(t){t&&e.props.addReminder(t.format("HH:mm")),e.setState({isOpen:!1,value:t})},e.timeChangerHandler=function(t){return function(n){var a=n.target.value;""===a&&e.props.delReminder(t),e.props.modReminder(t,{time:a})}},e.clickAddHandler=function(){e.state.isOpen||e.setState({isOpen:!0})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){"undefined"!==typeof Notification?"granted"!==Notification.permission&&Notification.requestPermission():alert("\u8a72\u700f\u89bd\u5668\u4e0d\u652f\u6301\u63a8\u64ad")}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,a=t.isOpen,r=this.props,c=r.reminders,i=r.delReminder,u=r.modReminder,s=this.props.history.go;return o.a.createElement("div",{className:gn.a.Remind},o.a.createElement(_e,{leftIcon:o.a.createElement(be.a,{type:"left",onClick:function(){return s(-1)}}),mainItem:o.a.createElement("h3",null,"\u667a\u80fd\u63d0\u9192")}),o.a.createElement(ut.a,null,Object.entries(c).map((function(t){var n=Object(F.a)(t,2),a=n[0],r=n[1];return o.a.createElement(En,{key:a,thumb:o.a.createElement(be.a,{type:"cross",onClick:function(){return i(a)}}),extra:o.a.createElement(hn.a,{checked:r.on,onChange:function(e){return u(a,{on:e})}})},o.a.createElement("input",{type:"time",value:r.time,onChange:e.timeChangerHandler(a),style:{backgroundColor:"transparent",border:"none"}}))})),o.a.createElement(En,{onClick:this.clickAddHandler},o.a.createElement("span",{className:gn.a.Plus}," + "),o.a.createElement("span",null,"\u5275\u5efa\u63d0\u9192 "),o.a.createElement(yn.a,{value:n,onChange:this.pickerChangeHandler,open:a,format:"HH:mm"}))))}}]),n}(c.Component),kn=Object(v.f)(Object(s.b)((function(e){return{reminders:e.reminders}}),{delReminder:function(e){return function(){var t=Object(_.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue.reqDelReminder(e);case 2:n(fe(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},modReminder:function(e,t){return function(){var n=Object(_.a)(E.a.mark((function n(a){return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ue.reqModReminder(e,t);case 2:a({type:"mod_reminder",payload:{key:e,value:t}});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},addReminder:function(e){return function(){var t=Object(_.a)(E.a.mark((function t(n){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue.reqAddReminder(e);case 2:a=t.sent,n(pe(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(_n)),On=n(119),xn=n.n(On),jn=function(e){var t=e.monthData,n=e.total,a=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=a.current.getContext("2d"),n=Object.keys(t),r=Object.values(t);new Jt.a(e,{type:"line",data:{datasets:[{data:r,borderColor:"#2196f3",backgroundColor:"#2196f3",fill:!1,borderWidth:.5}],labels:n},options:{legend:{display:!1},scales:{xAxes:[{gridLines:{color:"rgba(0, 0, 0, 0)"}}],yAxes:[{ticks:{display:!1}}]}}})}),[t]),o.a.createElement("div",{className:xn.a.Chart},o.a.createElement("span",{className:xn.a.Total},n),o.a.createElement("canvas",{ref:a}))},wn=n(55),Rn=n.n(wn),Nn=Object(v.f)((function(e){var t=e.record,n=e.ratio,a=e.bar,r=e.id,c=e.history,i=e.type;return o.a.createElement(ut.a.Item,{style:{padding:"0px"},onClick:function(){return c.push("/detail/".concat(r))}},o.a.createElement("div",{className:Rn.a.Wrapper},o.a.createElement("div",{"data-img":!0,className:"".concat(i,"-img ").concat(t.category)}),o.a.createElement("div",{className:Rn.a.Info},o.a.createElement("span",{className:Rn.a.Title},t.category),o.a.createElement("span",{className:Rn.a.Amount},t.amount),o.a.createElement("span",{className:Rn.a.Ratio},n,"%"),o.a.createElement("div",null,o.a.createElement(Zt.a,{percent:a,position:"normal",barStyle:{borderColor:"#ffda44"},unfilled:!1})),o.a.createElement("span",{className:Rn.a.Date},t.date))))})),Cn=n(120),Sn=n.n(Cn),In=function(e){var t=e.records,n=e.total,a=e.type;return o.a.createElement("div",{className:Sn.a.RecordList},o.a.createElement("span",{className:Sn.a.Title},Se(a),"\u5217\u8868"),o.a.createElement(et.a,null),o.a.createElement(ut.a,null,t.map((function(e){var r=Object(F.a)(e,2),c=r[0],i=r[1],u=+(i.amount/t[0][1].amount*100).toFixed(1),s=+(i.amount/n*100).toFixed(1);return o.a.createElement(Nn,{key:c,record:i,id:c,ratio:s,bar:u,type:a})}))))},Dn=n(168),Mn=n.n(Dn),Tn=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).canvas=Object(c.createRef)(),e.sortedRecords=[],e.proxyRecords={},e}return Object(d.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.records!==this.props.records}},{key:"getAmountIndexedByDate",value:function(e){var t=Array(O()(this.props.month).daysInMonth()+1).fill(0),n=Object.entries(e).reduce((function(e,t){var n=Object(F.a)(t,2),a=(n[0],n[1]);return e[O()(a.date).date()]+=a.amount,e}),t),a=Object(N.a)({},n);return delete a[1],a}},{key:"render",value:function(){for(var e=this.props,t=e.records,n=e.history,a=e.month,r=e.setMonth,c=new URLSearchParams(this.props.location.search),i=c.get("type"),u=c.get("category"),s={},l=0,m=Object.entries(t);l<m.length;l++){var d=Object(F.a)(m[l],2),p=d[0],f=d[1];f.category===u&&(s[p]=f)}var v=this.proxyRecords=Ie(s),h=v["benefit"===i?"benefitRecords":"costRecords"],y=v["benefit"===i?"benefitTotal":"costTotal"];return this.sortedRecords=Object.entries(h).sort((function(e,t){return t[1].amount-e[1].amount})),o.a.createElement("div",{className:Mn.a.CategoryView},o.a.createElement(_e,{leftIcon:o.a.createElement(be.a,{type:"left",onClick:function(){return n.go(-1)}}),mainItem:o.a.createElement(wt,{month:a,monthChanged:r})}),o.a.createElement(et.a,null),o.a.createElement(Qe.a,null,o.a.createElement(jn,{monthData:this.getAmountIndexedByDate(h),total:y}),o.a.createElement(In,{type:i,records:this.sortedRecords,total:y})))}}]),n}(c.Component),An=Object(v.f)(Object(s.b)((function(e){return{records:e.records,month:e.month}}),{setMonth:It})(Tn)),Yn={position:"fixed",zIndex:999,top:0,left:0,right:0,bottom:0,backgroundSize:"cover",backgroundImage:"url(".concat(n(300))},Ln=o.a.memo((function(){var e=Object(c.useState)(!0),t=Object(F.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){setTimeout((function(){return a(!1)}),2e3)}),[]),n?o.a.createElement("div",{style:Yn}):null})),Hn=function e(t){var n=function(e){var t=O()().format("YYYY-MM-DD");return Object.values(e).filter((function(e){return e.on})).map((function(e){return"".concat(t," ").concat(e.time)})).map(Date.parse).flatMap((function(e){return[e,e+864e5]})).filter((function(e){return e>Date.now()})).map((function(e){return e-Date.now()})).sort().shift()}(t);clearTimeout(Z),n&&(Z=window.setTimeout((function(){var n=new Notification("\u8a18\u5f97\u8a18\u5e33\u5594!!");n.onshow=function(){return setTimeout((function(){return n.close()}),5e3)},e(t)}),n))},qn=Object(s.b)((function(e){return{reminders:e.reminders}}))((function(e){var t=e.reminders;return Hn(t),null})),Pn=(n(301),{PUSH:"forward",POP:"back"}),Bn=Object(v.f)((function(e){var t=e.location,n=e.history;return o.a.createElement(y.a,{childFactory:function(e){return o.a.cloneElement(e,{classNames:Pn[n.action]})}},o.a.createElement(b.a,{timeout:400,classNames:"fade",key:t.pathname},o.a.createElement(v.c,{location:t},o.a.createElement(v.a,{path:"/log/:key",component:Ve}),o.a.createElement(v.a,{path:"/log/",component:Ve}),o.a.createElement(v.a,{path:"/overview/:type",component:un}),o.a.createElement(v.a,{path:"/remind/",component:kn}),o.a.createElement(v.a,{path:"/setting/",component:fn}),o.a.createElement(v.a,{path:"/category-view/",component:An}),o.a.createElement(v.a,{path:"/detail/:key",component:Ut}),o.a.createElement(v.a,{path:"/",component:At}))))})),Wn=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){l.auth().onAuthStateChanged((function(e){var t;if(e){var n=l.auth().currentUser,a=n.email,r=n.uid,c=n.photoURL,o=n.displayName;t=ft({email:a,uid:r,photoURL:c,displayName:o})}else t=ft(null);T.dispatch(t)})),this.props.getRecord(new Date),this.props.getReminder()}},{key:"render",value:function(){return console.count("render app"),o.a.createElement("div",null,o.a.createElement(Ln,null),o.a.createElement(qn,null),o.a.createElement(h.a,null,o.a.createElement(Bn,null)))}}]),n}(c.Component),Un=Object(s.b)((function(){return{}}),{getRecord:de,getReminder:he})(Wn),Gn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Jn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(302);u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,{store:T},o.a.createElement(Un,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-money-manager",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-money-manager","/service-worker.js");Gn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Jn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Jn(t,e)}))}}()},32:function(e,t,n){e.exports={Sidebar:"Sidebar_Sidebar__1MyNc",Avatar:"Sidebar_Avatar__Q0kPC",Log:"Sidebar_Log__3P545",List:"Sidebar_List__3Uk55",Item:"Sidebar_Item__1Y4Bm",Active:"Sidebar_Active__3K_JP"}},46:function(e,t,n){e.exports={TypeSelect:"TypeSelect_TypeSelect__3xAJi",Main:"TypeSelect_Main__3JFup",Pop:"TypeSelect_Pop__1blN8",Option:"TypeSelect_Option__Ty9yD",Active:"TypeSelect_Active__3Z3cf",dropdown:"TypeSelect_dropdown__Xaz8L",Mask:"TypeSelect_Mask__38vM8"}},53:function(e,t,n){e.exports={DayRecord:"DayRecord_DayRecord__3KqIA",Info:"DayRecord_Info__3hh7x",Total:"DayRecord_Total__2dSRS",Item:"DayRecord_Item__1WJ27",Amount:"DayRecord_Amount__1jeVu",Title:"DayRecord_Title__3Id1T"}},54:function(e,t,n){e.exports={Detail:"Detail_Detail__2ZuIc",Info:"Detail_Info__1shS3",Title:"Detail_Title__54eJk"}},55:function(e,t,n){e.exports={Wrapper:"RecordItem_Wrapper__6agUo",Info:"RecordItem_Info__1hFfz",Amount:"RecordItem_Amount__13iiD",Ratio:"RecordItem_Ratio__3ZuLu",Date:"RecordItem_Date__1veUV"}},67:function(e,t,n){e.exports={Wrapper:"RecordItem_Wrapper__ILref",Info:"RecordItem_Info__2rkJ5",Amount:"RecordItem_Amount__3z4ph",Ratio:"RecordItem_Ratio__33bhn"}},72:function(e,t,n){e.exports={MonthSelect:"MonthSelect_MonthSelect__OEnUE",Dropdown:"MonthSelect_Dropdown__34iQo",Monthpicker:"MonthSelect_Monthpicker__3JQdZ",Mask:"MonthSelect_Mask__2syWK"}},87:function(e,t,n){e.exports={Inputs:"Inputs_Inputs__bIdwf",Input:"Inputs_Input__1xfn3"}},88:function(e,t,n){e.exports={DateSelect:"DateSelect_DateSelect__29-l0",Toggle:"DateSelect_Toggle__3jW_D",Dropdown:"DateSelect_Dropdown__84-oj"}}},[[172,1,2]]]);
//# sourceMappingURL=main.05b75226.chunk.js.map