(this["webpackJsonpreact-ts"]=this["webpackJsonpreact-ts"]||[]).push([[0],{114:function(e,t,n){e.exports={Main:"Main_Main__32U6n",Notice:"Main_Notice__Mc6bU"}},115:function(e,t,n){e.exports={Chart:"Chart_Chart__1ni9I",Total:"Chart_Total__1OcVz"}},116:function(e,t,n){e.exports={RecordList:"RecordList_RecordList__2g_qn",Title:"RecordList_Title__5F56x"}},119:function(e,t,n){e.exports={Chart:"Chart_Chart__3CiFs",Total:"Chart_Total__1PUf-"}},120:function(e,t,n){e.exports={RecordList:"RecordList_RecordList__e-D4p",Title:"RecordList_Title__3Fafu"}},137:function(e,t,n){e.exports=n.p+"static/media/\u4ea4\u901a.95411458.svg"},140:function(e,t,n){e.exports=n.p+"static/media/\u8a55\u50f9\u6211\u5011.d1d08460.svg"},141:function(e,t,n){e.exports=n.p+"static/media/\u522a\u9664.650cdc57.svg"},147:function(e,t,n){e.exports={Navbar:"Navbar_Navbar__I_G9v"}},148:function(e,t,n){e.exports={Grid:"Grid_Grid__3iuvg"}},149:function(e,t,n){e.exports={Grids:"Grids_Grids__1Wq6e"}},153:function(e,t,n){e.exports={LogRecord:"LogRecord_LogRecord__1G1ot"}},156:function(e,t,n){e.exports={Add:"Add_Add__2jTPg"}},158:function(e,t,n){e.exports={Edit:"Edit_Edit___HoDb"}},159:function(e,t,n){e.exports={Overview:"Overview_Overview__zwQtT"}},160:function(e,t,n){e.exports={Setting:"Setting_Setting__WMx6G"}},162:function(e,t,n){e.exports={Remind:"Remind_Remind__1YzWX"}},170:function(e,t,n){e.exports={CategoryView:"CategoryView_CategoryView__mOlQd"}},175:function(e,t,n){e.exports=n(312)},245:function(e,t,n){e.exports=n.p+"static/media/\u4f4f\u5bbf.6f087f95.svg"},246:function(e,t,n){e.exports=n.p+"static/media/\u5176\u4ed6.04e848f8.svg"},247:function(e,t,n){e.exports=n.p+"static/media/\u5bf5\u7269.dce15f4f.svg"},248:function(e,t,n){e.exports=n.p+"static/media/\u8cfc\u7269.4e4cb6a8.svg"},249:function(e,t,n){e.exports=n.p+"static/media/\u91ab\u7642.db506457.svg"},250:function(e,t,n){e.exports=n.p+"static/media/\u96fb\u8a71.776eda91.svg"},251:function(e,t,n){e.exports=n.p+"static/media/\u98df\u7269.fbca1a1f.svg"},267:function(e,t,n){var a={"./\u522a\u9664.svg":141,"./\u5716\u8868.svg":268,"./\u5c0e\u51fa.svg":269,"./\u767b\u5165.svg":270,"./\u8a2d\u7f6e.svg":271,"./\u8a55\u50f9\u6211\u5011.svg":140,"./\u95dc\u65bc.svg":272,"./\u985e\u5225.svg":273};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=267},268:function(e,t,n){e.exports=n.p+"static/media/\u5716\u8868.308dc876.svg"},269:function(e,t,n){e.exports=n.p+"static/media/\u5c0e\u51fa.3df4d79c.svg"},27:function(e,t,n){e.exports={Balance:"Balence_Balance__3F6zA",Benefit:"Balence_Benefit__1d3GR",Cost:"Balence_Cost__1Gn-z",Block:"Balence_Block__38NBK",Title:"Balence_Title__2b8WJ",Number:"Balence_Number__3gKnm"}},270:function(e,t,n){e.exports=n.p+"static/media/\u767b\u5165.5fec04de.svg"},271:function(e,t,n){e.exports=n.p+"static/media/\u8a2d\u7f6e.04e848f8.svg"},272:function(e,t,n){e.exports=n.p+"static/media/\u95dc\u65bc.327958fd.svg"},273:function(e,t,n){e.exports=n.p+"static/media/\u985e\u5225.dba72284.svg"},310:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"reqGetRecord",(function(){return q})),n.d(a,"reqAddRecord",(function(){return L})),n.d(a,"reqUpdateRecord",(function(){return B})),n.d(a,"reqDeleteRecord",(function(){return P})),n.d(a,"reqAddReminder",(function(){return U})),n.d(a,"reqDelReminder",(function(){return G})),n.d(a,"reqGetReminder",(function(){return J})),n.d(a,"reqModReminder",(function(){return W}));var r={};n.r(r),n.d(r,"reqGetRecord",(function(){return X})),n.d(r,"reqAddRecord",(function(){return $})),n.d(r,"reqUpdateRecord",(function(){return ee})),n.d(r,"reqDeleteRecord",(function(){return te})),n.d(r,"reqGetReminder",(function(){return ne})),n.d(r,"reqAddReminder",(function(){return ae})),n.d(r,"reqModReminder",(function(){return re})),n.d(r,"reqDelReminder",(function(){return ce}));var c=n(0),o=n.n(c),i=n(12),u=n.n(i),s=n(20),l=n(34);n(123);l.initializeApp({apiKey:"AIzaSyDmDtZQueyX0QHZjFBCFwSNdorl2H8HAIw",authDomain:"money-manager-a21b9.firebaseapp.com",databaseURL:"https://money-manager-a21b9.firebaseio.com",projectId:"money-manager-a21b9",storageBucket:"money-manager-a21b9.appspot.com"});var m=n(17),d=n(18),p=n(22),f=n(21),v=n(45),h=n(24),y=n(319),b=n(318),E=n(2),g=n.n(E),_=n(8),k=(n(189),n(11)),O=n.n(k),j=n(50),x=n(145),w=n(146),R=n(43),N=n(28),C={},S={},I=Object(j.combineReducers)({records:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add_record":var n=t.payload,a=n.key,r=n.value;return Object(N.a)(Object(R.a)({},a,r),e);case"del_record":return delete e[t.payload],Object(N.a)({},e);case"mod_record":var c=t.payload,o=c.key,i=c.value;return e[o]=Object.assign(e[o],i),Object(N.a)({},e);case"get_record":return t.payload;default:return e}},month:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_month":return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_user":return t.payload;default:return e}},reminders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add_reminder":var n=t.payload,a=n.key,r=n.value;return Object(N.a)(Object(N.a)({},e),{},Object(R.a)({},a,r));case"del_reminder":return delete e[t.payload],Object(N.a)({},e);case"mod_reminder":var c=t.payload,o=c.key,i=c.value;return e[o]=Object.assign(e[o],i),Object(N.a)({},e);case"get_reminder":return t.payload;default:return e}}}),D=[x.a],M=j.applyMiddleware.apply(void 0,D),T=Object(j.createStore)(I,Object(w.composeWithDevTools)(M)),A=function(){return T.getState().user.uid},H=l.database().ref("record"),Y=l.database().ref("remind"),q=function(){var e=Object(_.a)(g.a.mark((function e(t){var n,a,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=H.child(A()),!(t instanceof Date)){e.next=9;break}return r=O()(t).format("YYYY-MM-01"),c=O()(t).format("YYYY-MM-31"),e.next=6,n.orderByChild("date").startAt(r).endAt(c).once("value");case 6:a=e.sent,e.next=18;break;case 9:if("string"!==typeof t){e.next=15;break}return e.next=12,n.orderByKey().equalTo(t).once("value");case 12:a=e.sent,e.next=18;break;case 15:return e.next=17,n.once("value");case 17:a=e.sent;case 18:return e.abrupt("return",a.val()||{});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(_.a)(g.a.mark((function e(t){var n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=H.child(A()),e.next=3,n.push(t);case 3:return a=e.sent,e.next=6,a.once("value");case 6:return r=e.sent,e.abrupt("return",{key:a.key,value:r.val()});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(_.a)(g.a.mark((function e(t,n){var a,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=H.child(A()),r=a.child(t),e.next=4,r.update(n);case 4:return e.next=6,r.once("value");case 6:return c=e.sent,e.abrupt("return",{key:r.key,value:c.val()});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(_.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=H.child(A()),a=n.child(t),e.next=4,a.remove();case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(_.a)(g.a.mark((function e(t){var n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Y.child(A()),e.next=3,n.push({time:t,on:!0});case 3:return a=e.sent,e.next=6,a.once("value");case 6:return r=e.sent,e.abrupt("return",{key:a.key,value:r.val()});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(_.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Y.child(A()),a=n.child(t),e.next=4,a.remove();case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(_.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Y.child(A()),e.next=3,t.once("value");case 3:return n=e.sent,e.abrupt("return",n.val()||{});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(_.a)(g.a.mark((function e(t,n){var a,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Y.child(A()),r=a.child(t),e.next=4,r.update(n);case 4:return e.next=6,r.once("value");case 6:return c=e.sent,e.abrupt("return",{key:r.key,value:c.val()});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=n(15),z=function e(){Object(m.a)(this,e)},K=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a,r=e.type,c=e.amount,o=e.date,i=e.category,u=e.mark;return Object(m.a)(this,n),(a=t.call(this)).type=void 0,a.amount=void 0,a.date=void 0,a.category=void 0,a.mark=void 0,a.type=r,a.amount=c,a.date=o,a.category=i,a.mark=u,a}return Object(d.a)(n,[{key:"save",value:function(){var e=this;return new Promise((function(t,a){var r=Date.now()+" "+Math.random();n.data[r]=e,localStorage.setItem("MONEYRECORD",JSON.stringify(n.data)),t({key:r,value:e})}))}},{key:"delete",value:function(){var e=this;return new Promise((function(t,a){var r=n.data;Object.keys(r).some((function(t){return r[t]===e&&delete r[t]})),localStorage.setItem("MONEYRECORD",JSON.stringify(n.data)),t(!0)}))}},{key:"update",value:function(e){var t=this;return new Promise((function(a,r){Object.assign(t,e),localStorage.setItem("MONEYRECORD",JSON.stringify(n.data)),a(!0)}))}}],[{key:"update",value:function(e,t){var a=this;return new Promise((function(r,c){Object.assign(a.data[e],t),localStorage.setItem("MONEYRECORD",JSON.stringify(n.data)),r(!0)}))}},{key:"delete",value:function(e){return new Promise((function(t,a){delete n.data[e],localStorage.setItem("MONEYRECORD",JSON.stringify(n.data)),t(!0)}))}},{key:"find",value:function(e){var t=this;return new Promise((function(n,a){if(e instanceof Date){for(var r={},c=O()(e).format("YYYY-MM-01"),o=O()(e).format("YYYY-MM-31"),i=0,u=Object.entries(t.data);i<u.length;i++){var s=Object(F.a)(u[i],2),l=s[0],m=s[1];m.date>=c&&m.date<=o&&(r[l]=m)}n(r)}else n("string"===typeof e?Object(R.a)({},e,t.data[e]):t.data)}))}}]),n}(z);K.data=JSON.parse(localStorage.getItem("MONEYRECORD")||"{}");var V=K,Q=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this)).time=e,a.on=!0,a}return Object(d.a)(n,[{key:"save",value:function(){var e=this;return new Promise((function(t,a){var r=Date.now()+" "+Math.random();n.data[r]=e,localStorage.setItem("REMINDER",JSON.stringify(n.data)),t({key:r,value:e})}))}},{key:"delete",value:function(){var e=this;return new Promise((function(t,a){var r=n.data;Object.keys(r).some((function(t){return r[t]===e&&delete r[t]})),localStorage.setItem("REMINDER",JSON.stringify(n.data)),t(!0)}))}},{key:"update",value:function(e){var t=this;return new Promise((function(a,r){Object.assign(t,e),localStorage.setItem("REMINDER",JSON.stringify(n.data)),a(!0)}))}}],[{key:"update",value:function(e,t){var a=this;return new Promise((function(r,c){Object.assign(a.data[e],t),localStorage.setItem("REMINDER",JSON.stringify(n.data)),r(!0)}))}},{key:"delete",value:function(e){return new Promise((function(t,a){delete n.data[e],localStorage.setItem("REMINDER",JSON.stringify(n.data)),t(!0)}))}},{key:"find",value:function(){var e=this;return new Promise((function(t,n){t(e.data)}))}}]),n}(z);Q.data=JSON.parse(localStorage.getItem("REMINDER")||"{}");var Z=Q,X=function(){var e=Object(_.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V.find(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(_.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new V(t).save());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(_.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V.update(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=Object(_.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V.delete(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(_.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.find());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(_.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Z(t).save());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(_.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.update(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(_.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.delete(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=new Proxy({},{get:function(e,t){return(T.getState().user?a:r)[t]}}),ie=function(e){return{type:"add_record",payload:e}},ue=function(e){return{type:"del_record",payload:e}},se=function(e){return{type:"get_record",payload:e}},le=function(e){return{type:"add_reminder",payload:e}},me=function(e){return{type:"del_reminder",payload:e}},de=function(e){return{type:"get_reminder",payload:e}},pe=(n(37),n(19)),fe=n.n(pe),ve=n(147),he=n.n(ve),ye=function(e){var t=e.leftIcon,n=e.mainItem,a=e.rightIcon;return o.a.createElement("div",{className:he.a.Navbar},o.a.createElement("nav",null,t||null,n||null,a||null))},be=n(148),Ee=n.n(be),ge=function(e){var t=e.url,n=e.text,a=e.clicked;return o.a.createElement("div",{className:Ee.a.Grid,onClick:function(){return a(n)}},o.a.createElement("img",{src:t,alt:n}),o.a.createElement("span",null,n))},_e=n(149),ke=n.n(_e),Oe=function(e){var t=e.icons,n=e.clicked;return o.a.createElement("div",{className:ke.a.Grids},t.map((function(e,t){return o.a.createElement(ge,{key:t,text:e.text,url:e.url,clicked:n})})))},je=n(46),xe=n.n(je),we=function(e){return"cost"===e?"\u652f\u51fa":"\u6536\u5165"},Re=function(e){var t={},n={},a=0,r=0;return Object.entries(e).forEach((function(e){var c=Object(F.a)(e,2),o=c[0],i=c[1];"cost"===i.type?(t[o]=i,a+=i.amount):(n[o]=i,r+=i.amount)})),{records:e,costRecords:t,benefitRecords:n,benefitTotal:r,costTotal:a,balance:r-a}},Ne=function(e){var t=e.text,n=e.clicked,a=e.active,r=[xe.a.Option];return a&&r.push(xe.a.Active),o.a.createElement("div",{className:r.join(" "),onClick:n},t)},Ce=function(e){var t=e.changed,n=e.type,a=Object(c.useState)(!1),r=Object(F.a)(a,2),i=r[0],u=r[1],s=function(e){return function(){e!==n&&t(e),u(!1)}};return o.a.createElement("div",{className:xe.a.TypeSelect},o.a.createElement("div",{className:xe.a.Mask,style:{display:i?"block":"none"},onClick:function(){return u(!1)}}),o.a.createElement("div",{className:xe.a.Main,onClick:function(){return u(!i)}},o.a.createElement("span",null,we(n)),o.a.createElement("span",{className:xe.a.dropdown})),o.a.createElement("div",{className:xe.a.Pop,style:{display:i?"block":"none"}},o.a.createElement(Ne,{text:"\u652f\u51fa",active:"cost"===n,clicked:s("cost")}),o.a.createElement(Ne,{text:"\u6536\u76ca",active:"benefit"===n,clicked:s("benefit")})))},Se=(n(234),n(111)),Ie=n.n(Se),De=n(72),Me=n.n(De),Te=function(e){var t=e.category,a=e.amount,r=e.markChanged,i=e.mark,u=e.amountChanged,s=e.submit,l=Object(c.useRef)(null),m=function(){setTimeout((function(){return l.current.focus()}),100)};return Object(c.useEffect)(m,[t]),o.a.createElement("div",{className:Me.a.Inputs},t?o.a.createElement("img",{className:Me.a.Icon,src:n(61)("./".concat(t,".svg")),alt:t}):null,o.a.createElement("div",{className:Me.a.Input},o.a.createElement(Ie.a,{type:"text",onChange:r,onBlur:m,value:i,placeholder:"\u5099\u8a3b"})),o.a.createElement("div",{className:Me.a.Input},o.a.createElement(Ie.a,{ref:l,type:"money",onChange:function(e){return u(Number(e))},onVirtualKeyboardConfirm:s,value:String(a)})))},Ae=(n(252),n(150)),He=n.n(Ae),Ye=n(88),qe=n.n(Ye),Le=function(e){var t=e.date,n=e.dateChanged,a=Object(c.useState)(!1),r=Object(F.a)(a,2),i=r[0],u=r[1],s=function(e){return function(){return u(e)}};return o.a.createElement("div",{className:qe.a.DateSelect},o.a.createElement("div",{className:qe.a.Toggle,onClick:s(!0)},o.a.createElement("span",null,"\u65e5\u671f\uff1a",O()(t).format("MM/DD")),o.a.createElement("span",{className:qe.a.Dropdown})),o.a.createElement(He.a,{visible:i,type:"one",onCancel:s(!1),onConfirm:function(e){n(O()(e).format("YYYY-MM-DD")),u(!1)},defaultTimeValue:new Date}))},Be=n(153),Pe=n.n(Be),Ue=[{type:"cost",text:"\u98df\u7269"},{type:"cost",text:"\u4ea4\u901a"},{type:"cost",text:"\u8cfc\u7269"},{type:"cost",text:"\u96fb\u8a71"},{type:"cost",text:"\u4f4f\u5bbf"},{type:"cost",text:"\u91ab\u7642"},{type:"cost",text:"\u5bf5\u7269"},{type:"benefit",text:"\u5bf5\u7269"}],Ge=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={type:"cost",amount:0,mark:"",category:"",date:O()().format("YYYY-MM-DD")},e.gridClickHandler=function(t){e.setState({category:t})},e.typeChangeHandler=function(t){return e.setState({type:t})},e.amountChangeHandler=function(t){return e.setState({amount:t})},e.markChangeHandler=function(t){return e.setState({mark:t})},e.dateChangeHandler=function(t){return e.setState({date:t})},e.submitHandler=Object(_.a)(g.a.mark((function t(){var n,a,r,c,o,i,u,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,a=n.type,r=n.amount,c=n.category,o=n.date,i=n.mark,u=e.props.match.params.key,s={type:a,amount:r,category:c,date:o,mark:i},""!==c){t.next=6;break}return alert("\u8acb\u9078\u64c7\u985e\u5225"),t.abrupt("return");case 6:if(null==u){t.next=11;break}return t.next=9,e.props.modRecord(u,s);case 9:t.next=13;break;case 11:return t.next=13,e.props.addRecord(s);case 13:e.props.history.go(-1);case 14:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"componentWillMount",value:function(){var e=Object(_.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=this.props.match.params.key)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,oe.reqGetRecord(t);case 5:n=e.sent,a=n[t],this.setState({type:a.type,amount:a.amount,category:a.category,date:a.date,mark:a.mark});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.type,r=t.amount,c=t.category,i=t.mark,u=t.date,s=Ue.filter((function(e){return e.type===a})).map((function(e){return Object(N.a)(Object(N.a)({},e),{},{url:n(61)("./".concat(e.text,".svg"))})}));return o.a.createElement("div",{className:Pe.a.LogRecord},o.a.createElement(ye,{leftIcon:o.a.createElement(fe.a,{type:"left",onClick:function(){return e.props.history.go(-1)}}),mainItem:o.a.createElement(Ce,{type:a,changed:this.typeChangeHandler}),rightIcon:o.a.createElement(Le,{date:u,dateChanged:this.dateChangeHandler})}),o.a.createElement(Oe,{icons:s,clicked:this.gridClickHandler}),o.a.createElement(Te,{amount:r,mark:i,category:c,amountChanged:this.amountChangeHandler,markChanged:this.markChangeHandler,submit:this.submitHandler}))}}]),a}(c.Component),Je=Object(v.f)(Object(s.b)((function(){return{}}),{addRecord:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.reqAddRecord(e);case 2:a=t.sent,n(ie(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},modRecord:function(e,t){return function(){var n=Object(_.a)(g.a.mark((function n(a){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,oe.reqUpdateRecord(e,t);case 2:a({type:"mod_record",payload:{key:e,value:t}});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(Ge)),We=(n(80),n(44)),Fe=n.n(We),ze=(n(262),n(155)),Ke=n.n(ze),Ve=(n(62),n(26)),Qe=n.n(Ve),Ze=n(27),Xe=n.n(Ze),$e=Object(v.f)((function(e){var t=e.costTotal,n=e.benefitTotal,a=e.balance,r=e.history,c=[Xe.a.Benefit,Xe.a.Number].join(" "),i=[Xe.a.Cost,Xe.a.Number].join(" "),u=[Xe.a.Number,a>0?Xe.a.Benefit:Xe.a.Cost].join(" ");return o.a.createElement("div",{className:Xe.a.Balance},o.a.createElement("div",{className:Xe.a.Block,onClick:function(){return r.push("/overview/benefit")}},o.a.createElement("span",{className:Xe.a.Title},"\u6536\u5165"),o.a.createElement("span",{className:c},n)),o.a.createElement("hr",null),o.a.createElement("div",{className:Xe.a.Block,onClick:function(){return r.push("/overview/cost")}},o.a.createElement("span",{className:Xe.a.Title},"\u652f\u51fa"),o.a.createElement("span",{className:i},t)),o.a.createElement("hr",null),o.a.createElement("div",{className:Xe.a.Block},o.a.createElement("span",{className:Xe.a.Title},"\u7d50\u9918"),o.a.createElement("span",{className:u},a)))})),et=n(156),tt=n.n(et),nt=function(){return o.a.createElement(h.b,{to:"/log"},o.a.createElement("div",{className:tt.a.Add},"+"))},at=(n(38),n(16)),rt=n.n(at),ct=function(e){var t=e.clicked,n={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.2)",zIndex:9999,display:e.show?"block":"none"};return o.a.createElement("div",{style:n,onClick:t})},ot={position:"fixed",top:"50%",left:"50%",padding:"20px",transform:"translate(-50%,-50%)",zIndex:999999,backgroundColor:"#fff",borderRadius:"5px",boxShadow:"0px 2px 3px #999"},it=function(e){var t=e.children,n=e.show,a=e.onLeft,r=Object(c.useRef)(document.createElement("div"));Object(c.useEffect)((function(){var e=document.getElementById("modal"),t=r.current;return e.appendChild(t),function(){e.removeChild(t)}}),[]);var u=o.a.createElement("div",null,o.a.createElement("div",{style:ot},t),o.a.createElement(ct,{clicked:a,show:n}));return n?Object(i.createPortal)(u,r.current):null},ut=function(){return o.a.createElement("div",{onClick:function(){return window.location.href="https://github.com/waterlinqq/react-money-manager"}},o.a.createElement("h2",null,"\u8acb\u7d66\u6211\u9846Star\u5427!"),o.a.createElement("p",{style:{color:"#666"}},"\u524d\u5f80\u6211\u7684github"),Array.from({length:5}).map((function(e,t){return o.a.createElement("img",{src:n(140),key:t,alt:"\u661f\u661f",style:{height:"25px",padding:"6px",color:"rgba(255, 217, 0, 0.876)"}})})))},st=function(){return o.a.createElement("div",null,o.a.createElement("h3",null,"\uff2doney Manager"),o.a.createElement("p",null,"\u7248\u672c\u865f 1.0.0"))},lt=function(e){return{type:"set_user",payload:e}},mt=function(){l.auth().signOut()},dt=function(){var e=Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new l.auth.GoogleAuthProvider,l.auth().signInWithRedirect(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=n(35),ft=n.n(pt),vt=rt.a.Item,ht=function(e){return n(267)("./".concat(e,".svg"))},yt=Object(v.f)(Object(s.b)((function(e){return{records:e.records,user:e.user}}))((function(e){var t=e.show,n=e.onLeft,a=e.history,r=e.records,i=e.user,u=Object(c.useState)(null),s=Object(F.a)(u,2),l=s[0],m=s[1],d=function(e){return function(){m(e),n()}},p=[ft.a.List].concat(t?ft.a.Active:"").join(" ");return o.a.createElement("div",{className:ft.a.Sidebar},o.a.createElement(it,{show:!!l,onLeft:function(){return m(null)}},l),o.a.createElement("div",{className:p},o.a.createElement("div",{className:ft.a.Avatar,onClick:i?mt:dt},o.a.createElement("img",{src:(null===i||void 0===i?void 0:i.photoURL)||ht("\u767b\u5165"),alt:""}),o.a.createElement("p",null,i?"\u767b\u51fa":"\u767b\u5165"),o.a.createElement("p",null,(null===i||void 0===i?void 0:i.displayName)||"")),o.a.createElement(rt.a,null,o.a.createElement(vt,{className:ft.a.Item,thumb:ht("\u5716\u8868"),onClick:function(){return a.push("/overview/income")}},o.a.createElement("span",null,"\u5716\u8868")),o.a.createElement("hr",null),o.a.createElement(vt,{className:ft.a.Item,thumb:ht("\u985e\u5225"),onClick:function(){return a.push("/category")}},o.a.createElement("span",null,"\u985e\u5225")),o.a.createElement(vt,{className:ft.a.Item,thumb:ht("\u5c0e\u51fa"),onClick:function(){return function(e){var t=Object.values(e).map((function(e){return[e.category,e.amount,e.date,e.mark,we(e.type)]}));t.unshift(["\u985e\u578b","\u91d1\u984d","\u65e5\u671f","\u5099\u8a3b","\u5206\u985e"]);var n=t.reduce((function(e,t){return e+(t.join(",")+"\r\n")}),""),a=encodeURIComponent(n),r=document.createElement("a");r.setAttribute("href","data:text/csv;charset=utf-8,"+a),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click()}(r)}},o.a.createElement("span",null,"\u5c0e\u51fa")),o.a.createElement(vt,{className:ft.a.Item,thumb:ht("\u8a2d\u7f6e"),onClick:function(){return a.push("/setting")}},o.a.createElement("span",null,"\u8a2d\u7f6e")),o.a.createElement(vt,{className:ft.a.Item,thumb:ht("\u8a55\u50f9\u6211\u5011"),onClick:d(o.a.createElement(ut,null))},"\u8a55\u50f9\u6211\u5011"),o.a.createElement(vt,{className:ft.a.Item,onClick:d(o.a.createElement(st,null)),thumb:ht("\u95dc\u65bc")},o.a.createElement("span",null,"\u95dc\u65bc")))),o.a.createElement(ct,{show:t,clicked:n}))}))),bt=(n(274),n(157)),Et=n.n(bt),gt=n(73),_t=n.n(gt),kt=function(e){var t=e.month,n=e.monthChanged,a=Object(c.useState)(t),r=Object(F.a)(a,2),i=r[0],u=r[1],s=Object(c.useState)(!1),l=Object(F.a)(s,2),m=l[0],d=l[1],p={display:m?"block":"none"};return o.a.createElement("div",{className:_t.a.MonthSelect},o.a.createElement("div",{onClick:function(){return d(!m)}},o.a.createElement("span",null,O()(t).format("YYYY\u5e74M\u6708")),o.a.createElement("span",{className:_t.a.Dropdown})),o.a.createElement("div",{className:_t.a.Mask,style:p,onClick:function(){d(!1),n(i)}}),o.a.createElement("div",{className:_t.a.Monthpicker},m?o.a.createElement(Et.a,{mode:"month",value:i,onChange:function(e){return u(e)}}):null))},Ot=n(89),jt=n.n(Ot),xt=rt.a.Item,wt=function(e){var t=e.dayData,a=Object.entries(t),r=a[0][1].date,c=a.reduce((function(e,t){var n=Object(F.a)(t,2),a=(n[0],n[1]);return e[a.type]+=a.amount,e}),{cost:0,benefit:0}),i=c.cost,u=c.benefit,s="\u9031"+["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"][O()(r).day()],l=O()(r).format("MM/DD");return o.a.createElement("div",{className:jt.a.DayRecord},o.a.createElement("div",{className:jt.a.Info},o.a.createElement("div",null,"".concat(l," ").concat(s)),o.a.createElement("div",{className:jt.a.Total},0===u?null:o.a.createElement("span",null,"\u6536\u5165: ",u),0===i?null:o.a.createElement("span",null,"\u652f\u51fa: ",i))),o.a.createElement(rt.a,null,a.map((function(e){var t=Object(F.a)(e,2),a=t[0],r=t[1];return o.a.createElement(h.b,{key:a,to:"/detail/".concat(a)},o.a.createElement(xt,{thumb:n(61)("./".concat(r.category,".svg")),extra:("cost"===r.type?"-":"")+r.amount},r.category))}))))},Rt=function(e){var t=function(e){return Object.entries(e).reduce((function(e,t){var n=Object(F.a)(t,2),a=n[0],r=n[1],c=r.date;return e[c]||(e[c]={}),e[c][a]=r,e}),{})}(e.monthData),n=Object.entries(t).sort((function(e,t){return e[0]>t[0]?-1:1})).map((function(e){return e[1]}));return o.a.createElement(c.Fragment,null,n.map((function(e,t){return o.a.createElement(wt,{dayData:e,key:t})})))},Nt=function(e){return{type:"set_month",payload:e}},Ct=n(114),St=n.n(Ct),It=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isShowSidebar:!1},e.leftSidebarHandler=function(){e.setState({isShowSidebar:!1})},e.clickSidebarHandler=function(){e.setState({isShowSidebar:!e.state.isShowSidebar})},e.monthChangedHandler=function(t){e.props.monthSet(t)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.records,n=e.user,a=Re(t);return o.a.createElement("div",{className:St.a.Main},o.a.createElement(yt,{show:this.state.isShowSidebar,onLeft:this.leftSidebarHandler}),o.a.createElement(ye,{leftIcon:o.a.createElement(fe.a,{type:"ellipsis",onClick:this.clickSidebarHandler}),mainItem:o.a.createElement(kt,{month:this.props.month,monthChanged:this.monthChangedHandler}),rightIcon:o.a.createElement("div",{className:"benefit-img"})}),o.a.createElement(Fe.a,null,o.a.createElement(Qe.a,null),o.a.createElement($e,{costTotal:a.costTotal,benefitTotal:a.benefitTotal,balance:a.balance}),o.a.createElement(Qe.a,null),n?null:o.a.createElement(Ke.a,{mode:"closable",className:St.a.Notice,icon:o.a.createElement(fe.a,{type:"check-circle-o",size:"xxs"}),onClick:dt},"\u8acb\u5118\u5feb\u767b\u5165\uff0c\u907f\u514d\u4e1f\u5931\u6578\u64da"),o.a.createElement(Qe.a,null),o.a.createElement(Rt,{monthData:t})),o.a.createElement(nt,null))}}]),n}(c.Component),Dt=Object(s.b)((function(e){return{records:e.records,month:e.month,user:e.user}}),{monthSet:Nt})(It),Mt=n(158),Tt=n.n(Mt),At=function(e){var t=e.to;return o.a.createElement(h.b,{to:t},o.a.createElement("div",{className:Tt.a.Edit},o.a.createElement(fe.a,{type:"ellipsis"})))},Ht=n(53),Yt=n.n(Ht),qt=rt.a.Item,Lt=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={key:"",type:"",amount:0,category:"\u5176\u4ed6",date:"",mark:""},e.deleteHandler=function(){window.confirm("\u78ba\u5b9a\u8981\u522a\u9664\u55ce")&&(e.props.delRecord(e.state.key),e.props.history.go(-1))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(_.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.key,e.next=3,oe.reqGetRecord(t);case 3:if(n=e.sent,null!=(a=Object.values(n)[0])){e.next=7;break}return e.abrupt("return");case 7:this.setState({key:t,type:a.type,amount:a.amount,category:a.category,date:a.date,mark:a.mark});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.category,a=e.date,r=e.amount,c=e.type,i=e.mark,u=e.key,s=this.props.history.go,l="\u9031"+["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"][O()(a).day()];return o.a.createElement("div",{className:Yt.a.Detail},o.a.createElement(ye,{leftIcon:o.a.createElement(fe.a,{type:"left",onClick:function(){return s(-1)}}),mainItem:o.a.createElement("span",null,"\u8a73\u60c5"),rightIcon:o.a.createElement("img",{src:n(141),alt:"\u522a\u9664",onClick:this.deleteHandler})}),o.a.createElement(Qe.a,null),o.a.createElement(Fe.a,null,o.a.createElement("div",{className:Yt.a.Info},o.a.createElement("header",null,o.a.createElement("img",{src:n(61)("./".concat(t,".svg")),alt:t}),o.a.createElement("h2",null,t)),o.a.createElement(Qe.a,null),o.a.createElement(rt.a,null,o.a.createElement(qt,null,o.a.createElement("span",{className:Yt.a.Title},"\u985e\u5225"),o.a.createElement("span",{className:"content"},c)),o.a.createElement(qt,null,o.a.createElement("span",{className:Yt.a.Title},"\u91d1\u984d"),o.a.createElement("span",{className:"content"},r)),o.a.createElement(qt,null,o.a.createElement("span",{className:Yt.a.Title},"\u65e5\u671f"),o.a.createElement("span",{className:"content"},"".concat(a," ").concat(l))),o.a.createElement(qt,null,o.a.createElement("span",{className:Yt.a.Title},"\u5099\u8a3b"),o.a.createElement("span",{className:"content"},i))),o.a.createElement(At,{to:"/log/"+u}))))}}]),a}(c.Component),Bt=Object(v.f)(Object(s.b)((function(){return{}}),{delRecord:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.reqDeleteRecord(e);case 2:n(ue(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Lt)),Pt=n(71),Ut=n.n(Pt),Gt=n(115),Jt=n.n(Gt),Wt=["#ffda44","#48c0e3","#52c5ab","#f7746d","#fbb957"],Ft=Object(v.f)((function(e){var t=e.categories,n=e.type,a=e.total,r=e.history,i=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=i.current.getContext("2d");if(t.length>5){var n=t.splice(4).reduce((function(e,t){return e+t[1]}),0);t.push(["\u5176\u4ed6",n])}var r=t.map((function(e){return e[0]})),c=t.map((function(e){return e[1]})),o=c.map((function(e){return(e/a*100).toFixed(1)}));Ut.a.defaults.global.elements.arc.borderWidth=12,new Ut.a(e,{type:"doughnut",data:{datasets:[{data:c,backgroundColor:Wt,borderWidth:0}],labels:r},options:{legend:{display:!0,position:"right",align:"start",labels:{boxWidth:20,fontColor:"#999",filter:function(){var e=arguments.length<=0?void 0:arguments[0];return e.text="".concat(e.text,"     ").concat(o.shift(),"%")}}}}})}),[t,a]),o.a.createElement("div",{className:Jt.a.Chart,onClick:function(){return r.replace("/overview/".concat(function(e){return"cost"===e?"benefit":"cost"}(n)))}},o.a.createElement("span",null,we(n)),o.a.createElement("span",{className:Jt.a.Total},a),o.a.createElement("canvas",{ref:i}))})),zt=(n(142),n(84)),Kt=n.n(zt),Vt=n(67),Qt=n.n(Vt),Zt=Object(v.f)((function(e){var t=e.category,a=e.amount,r=e.ratio,c=e.bar,i=e.history,u=e.type;return o.a.createElement(rt.a.Item,{style:{padding:"0px"},onClick:function(){return i.push("/category-view/?type=".concat(u,"&category=").concat(t))}},o.a.createElement("div",{className:Qt.a.Wrapper},o.a.createElement("img",{src:n(61)("./".concat(t,".svg")),alt:""}),o.a.createElement("div",{className:Qt.a.Info},o.a.createElement("span",{className:Qt.a.Title},t),o.a.createElement("span",{className:Qt.a.Amount},a),o.a.createElement("span",{className:Qt.a.Ratio},r,"%"),o.a.createElement("div",null,o.a.createElement(Kt.a,{percent:c,position:"normal",barStyle:{borderColor:"#ffda44"},unfilled:!1})))))})),Xt=n(116),$t=n.n(Xt),en=function(e){var t=e.categories,n=e.total,a=e.type;return o.a.createElement("div",{className:$t.a.RecordList},o.a.createElement("span",{className:$t.a.Title},we(a),"\u5217\u8868"),o.a.createElement(Qe.a,null),o.a.createElement(rt.a,null,t.map((function(e,r){var c=+(e[1]/t[0][1]*100).toFixed(1),i=+(e[1]/n*100).toFixed(1);return o.a.createElement(Zt,{key:r,category:e[0],amount:e[1],ratio:i,bar:c,type:a})}))))},tn=n(159),nn=n.n(tn),an=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).canvas=Object(c.createRef)(),e.sortedCategories=[],e.proxyRecords={},e}return Object(d.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.records!==this.props.records}},{key:"render",value:function(){var e=this.props.match.params.type,t=this.props,n=t.records,a=t.history,r=t.month,c=t.monthSet,i=this.proxyRecords=Re(n),u=i["benefit"===e?"benefitRecords":"costRecords"],s=i["benefit"===e?"benefitTotal":"costTotal"],l=Object.values(u).reduce((function(e,t){var n=t.category;return e[n]||(e[n]=0),e[n]+=t.amount,e}),{});return this.sortedCategories=Object.entries(l).sort((function(e,t){return t[1]-e[1]})),o.a.createElement("div",{className:nn.a.Overview},o.a.createElement(ye,{leftIcon:o.a.createElement(fe.a,{type:"left",onClick:function(){return a.go(-1)}}),mainItem:o.a.createElement(kt,{month:r,monthChanged:c})}),o.a.createElement(Qe.a,null),o.a.createElement(Fe.a,null,o.a.createElement(Ft,{type:e,categories:this.sortedCategories,total:s}),o.a.createElement(en,{type:e,categories:this.sortedCategories,total:s})))}}]),n}(c.Component),rn=Object(v.f)(Object(s.b)((function(e){return{records:e.records,month:e.month}}),{monthSet:Nt})(an)),cn=n(160),on=n.n(cn),un=rt.a.Item,sn=un.Brief,ln=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getReminderTimes=function(){return Object.values(e.props.reminders).filter((function(e){return e.on})).map((function(e){return e.time})).join("\u3001")},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.history,t=this.getReminderTimes();return o.a.createElement("div",{className:on.a.Setting},o.a.createElement(ye,{leftIcon:o.a.createElement(fe.a,{type:"left",onClick:function(){return e.go(-1)}}),mainItem:o.a.createElement("h3",null,"\u8a2d\u7f6e")}),o.a.createElement(rt.a,null,o.a.createElement(un,{arrow:"horizontal",multipleLine:!0,onClick:function(){return e.push("remind")}},"\u667a\u80fd\u63d0\u9192 ",o.a.createElement(sn,null,"\u5728\u4ee5\u4e0b\u6642\u9593\u63d0\u9192 ",t))))}}]),n}(c.Component),mn=Object(v.f)(Object(s.b)((function(e){return{reminders:e.reminders}}))(ln)),dn=(n(283),n(161)),pn=n.n(dn),fn=n(317),vn=n(172),hn=function(e){var t=e.type,n=e.className,a=void 0===n?"":n,r=e.size,c=void 0===r?"md":r,i=Object(vn.a)(e,["type","className","size"]);return o.a.createElement("svg",Object.assign({className:"am-icon am-icon-".concat(t.substr(1)," am-icon-").concat(c," ").concat(a)},i),o.a.createElement("use",{xlinkHref:t})," "," ")},yn=(n(314),n(162)),bn=n.n(yn),En=rt.a.Item,gn=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1,value:O()()},e.pickerChangeHandler=function(t){t&&e.props.addReminder(t.format("HH:mm")),e.setState({isOpen:!1,value:t})},e.timeChangerHandler=function(t){return function(n){var a=n.target.value;""===a&&e.props.delReminder(t),e.props.modReminder(t,{time:a})}},e.clickAddHandler=function(){e.state.isOpen||e.setState({isOpen:!0})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){"undefined"!==typeof Notification?"granted"!==Notification.permission&&Notification.requestPermission():alert("\u8a72\u700f\u89bd\u5668\u4e0d\u652f\u6301\u63a8\u64ad")}},{key:"render",value:function(){var e=this,t=this.state,a=t.value,r=t.isOpen,c=this.props,i=c.reminders,u=c.delReminder,s=c.modReminder,l=this.props.history.go;return o.a.createElement("div",{className:bn.a.Remind},o.a.createElement(ye,{leftIcon:o.a.createElement(fe.a,{type:"left",onClick:function(){return l(-1)}}),mainItem:o.a.createElement("h3",null,"\u667a\u80fd\u63d0\u9192")}),o.a.createElement(rt.a,null,Object.entries(i).map((function(t){var n=Object(F.a)(t,2),a=n[0],r=n[1];return o.a.createElement(En,{key:a,thumb:o.a.createElement(fe.a,{type:"cross",onClick:function(){return u(a)}}),extra:o.a.createElement(pn.a,{checked:r.on,onChange:function(e){return s(a,{on:e})}})},o.a.createElement("input",{type:"time",value:r.time,onChange:e.timeChangerHandler(a),style:{backgroundColor:"transparent",border:"none"}}))})),o.a.createElement(En,{thumb:o.a.createElement(hn,{type:n(137)}),onClick:this.clickAddHandler},o.a.createElement("span",null,"\u5275\u5efa\u63d0\u9192 "),o.a.createElement(fn.a,{value:a,onChange:this.pickerChangeHandler,open:r,format:"HH:mm"}))))}}]),a}(c.Component),_n=Object(v.f)(Object(s.b)((function(e){return{reminders:e.reminders}}),{delReminder:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.reqDelReminder(e);case 2:n(me(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},modReminder:function(e,t){return function(){var n=Object(_.a)(g.a.mark((function n(a){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,oe.reqModReminder(e,t);case 2:a({type:"mod_reminder",payload:{key:e,value:t}});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},addReminder:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.reqAddReminder(e);case 2:a=t.sent,n(le(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(gn)),kn=n(119),On=n.n(kn),jn=function(e){var t=e.monthData,n=e.total,a=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=a.current.getContext("2d"),n=Object.keys(t),r=Object.values(t);new Ut.a(e,{type:"line",data:{datasets:[{data:r,borderColor:"#2196f3",backgroundColor:"#2196f3",fill:!1,borderWidth:.5}],labels:n},options:{legend:{display:!1},scales:{xAxes:[{gridLines:{color:"rgba(0, 0, 0, 0)"}}],yAxes:[{ticks:{display:!1}}]}}})}),[t]),o.a.createElement("div",{className:On.a.Chart},o.a.createElement("span",{className:On.a.Total},n),o.a.createElement("canvas",{ref:a}))},xn=n(54),wn=n.n(xn),Rn=Object(v.f)((function(e){var t=e.record,a=e.ratio,r=e.bar,c=e.id,i=e.history;return o.a.createElement(rt.a.Item,{style:{padding:"0px"},onClick:function(){return i.push("/detail/".concat(c))}},o.a.createElement("div",{className:wn.a.Wrapper},o.a.createElement("img",{src:n(61)("./".concat(t.category,".svg")),alt:""}),o.a.createElement("div",{className:wn.a.Info},o.a.createElement("span",{className:wn.a.Title},t.category),o.a.createElement("span",{className:wn.a.Amount},t.amount),o.a.createElement("span",{className:wn.a.Ratio},a,"%"),o.a.createElement("div",null,o.a.createElement(Kt.a,{percent:r,position:"normal",barStyle:{borderColor:"#ffda44"},unfilled:!1})),o.a.createElement("span",{className:wn.a.Date},t.date))))})),Nn=n(120),Cn=n.n(Nn),Sn=function(e){var t=e.records,n=e.total,a=e.type;return o.a.createElement("div",{className:Cn.a.RecordList},o.a.createElement("span",{className:Cn.a.Title},we(a),"\u5217\u8868"),o.a.createElement(Qe.a,null),o.a.createElement(rt.a,null,t.map((function(e){var a=Object(F.a)(e,2),r=a[0],c=a[1],i=+(c.amount/t[0][1].amount*100).toFixed(1),u=+(c.amount/n*100).toFixed(1);return o.a.createElement(Rn,{key:r,record:c,id:r,ratio:u,bar:i})}))))},In=n(170),Dn=n.n(In),Mn=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).canvas=Object(c.createRef)(),e.sortedRecords=[],e.proxyRecords={},e}return Object(d.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.records!==this.props.records}},{key:"getAmountIndexedByDate",value:function(e){var t=Array(O()(this.props.month).daysInMonth()+1).fill(0),n=Object.entries(e).reduce((function(e,t){var n=Object(F.a)(t,2),a=(n[0],n[1]);return e[O()(a.date).date()]+=a.amount,e}),t),a=Object(N.a)({},n);return delete a[1],a}},{key:"render",value:function(){for(var e=this.props,t=e.records,n=e.history,a=e.month,r=e.monthSet,c=new URLSearchParams(this.props.location.search),i=c.get("type"),u=c.get("category"),s={},l=0,m=Object.entries(t);l<m.length;l++){var d=Object(F.a)(m[l],2),p=d[0],f=d[1];f.category===u&&(s[p]=f)}var v=this.proxyRecords=Re(s),h=v["benefit"===i?"benefitRecords":"costRecords"],y=v["benefit"===i?"benefitTotal":"costTotal"];return this.sortedRecords=Object.entries(h).sort((function(e,t){return t[1].amount-e[1].amount})),o.a.createElement("div",{className:Dn.a.CategoryView},o.a.createElement(ye,{leftIcon:o.a.createElement(fe.a,{type:"left",onClick:function(){return n.go(-1)}}),mainItem:o.a.createElement(kt,{month:a,monthChanged:r})}),o.a.createElement(Qe.a,null),o.a.createElement(Fe.a,null,o.a.createElement(jn,{monthData:this.getAmountIndexedByDate(h),total:y}),o.a.createElement(Sn,{type:i,records:this.sortedRecords,total:y})))}}]),n}(c.Component),Tn=Object(v.f)(Object(s.b)((function(e){return{records:e.records,month:e.month}}),{monthSet:Nt})(Mn)),An=(n(310),{PUSH:"forward",POP:"back"}),Hn=Object(v.f)((function(e){var t=e.location,n=e.history;return o.a.createElement(y.a,{childFactory:function(e){return o.a.cloneElement(e,{classNames:An[n.action]})}},o.a.createElement(b.a,{timeout:400,classNames:"fade",key:t.pathname},o.a.createElement(v.c,{location:t},o.a.createElement(v.a,{exact:!0,path:"/log/:key",component:Je}),o.a.createElement(v.a,{exact:!0,path:"/log/",component:Je}),o.a.createElement(v.a,{exact:!0,path:"/overview/:type",component:rn}),o.a.createElement(v.a,{exact:!0,path:"/remind/",component:_n}),o.a.createElement(v.a,{exact:!0,path:"/setting/",component:mn}),o.a.createElement(v.a,{exact:!0,path:"/category-view/",component:Tn}),o.a.createElement(v.a,{exact:!0,path:"/detail/:key",component:Bt}),o.a.createElement(v.a,{exact:!0,path:"/",component:Dt}))))})),Yn=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidUpdate=e.componentDidMount,e}return Object(d.a)(n,[{key:"componentWillMount",value:function(){l.auth().onAuthStateChanged((function(e){var t;if(e){var n=l.auth().currentUser,a=n.email,r=n.uid,c=n.photoURL,o=n.displayName;t=lt({email:a,uid:r,photoURL:c,displayName:o})}else t=lt(null);T.dispatch(t)}))}},{key:"componentDidMount",value:function(){this.props.getRecord(this.props.month),this.props.getReminder()}},{key:"render",value:function(){return o.a.createElement(h.a,null,o.a.createElement(Hn,null))}}]),n}(c.Component),qn=Object(s.b)((function(e){return{month:e.month,user:e.user}}),{getRecord:function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.reqGetRecord(e);case 2:a=t.sent,n(se(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getReminder:function(){return function(){var e=Object(_.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.reqGetReminder();case 2:n=e.sent,t(de(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Yn);n(311);u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,{store:T},o.a.createElement(qn,null))),document.getElementById("root"))},35:function(e,t,n){e.exports={Sidebar:"Sidebar_Sidebar__1MyNc",Avatar:"Sidebar_Avatar__Q0kPC",List:"Sidebar_List__3Uk55",Item:"Sidebar_Item__1Y4Bm",Active:"Sidebar_Active__3K_JP"}},46:function(e,t,n){e.exports={TypeSelect:"TypeSelect_TypeSelect__3xAJi",Main:"TypeSelect_Main__3JFup",Pop:"TypeSelect_Pop__1blN8",Option:"TypeSelect_Option__Ty9yD",Active:"TypeSelect_Active__3Z3cf",dropdown:"TypeSelect_dropdown__Xaz8L",Mask:"TypeSelect_Mask__38vM8"}},53:function(e,t,n){e.exports={Detail:"Detail_Detail__2ZuIc",Info:"Detail_Info__1shS3",Title:"Detail_Title__54eJk"}},54:function(e,t,n){e.exports={Wrapper:"RecordItem_Wrapper__6agUo",Info:"RecordItem_Info__1hFfz",Amount:"RecordItem_Amount__13iiD",Ratio:"RecordItem_Ratio__3ZuLu",Date:"RecordItem_Date__1veUV"}},61:function(e,t,n){var a={"./\u4ea4\u901a.svg":137,"./\u4f4f\u5bbf.svg":245,"./\u5176\u4ed6.svg":246,"./\u5bf5\u7269.svg":247,"./\u8cfc\u7269.svg":248,"./\u91ab\u7642.svg":249,"./\u96fb\u8a71.svg":250,"./\u98df\u7269.svg":251};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=61},67:function(e,t,n){e.exports={Wrapper:"RecordItem_Wrapper__ILref",Info:"RecordItem_Info__2rkJ5",Amount:"RecordItem_Amount__3z4ph",Ratio:"RecordItem_Ratio__33bhn"}},72:function(e,t,n){e.exports={Inputs:"Inputs_Inputs__bIdwf",Icon:"Inputs_Icon__18SyB",Input:"Inputs_Input__1xfn3"}},73:function(e,t,n){e.exports={MonthSelect:"MonthSelect_MonthSelect__OEnUE",Dropdown:"MonthSelect_Dropdown__34iQo",Monthpicker:"MonthSelect_Monthpicker__3JQdZ",Mask:"MonthSelect_Mask__2syWK"}},88:function(e,t,n){e.exports={DateSelect:"DateSelect_DateSelect__29-l0",Toggle:"DateSelect_Toggle__3jW_D",Dropdown:"DateSelect_Dropdown__84-oj"}},89:function(e,t,n){e.exports={DayRecord:"DayRecord_DayRecord__3KqIA",Info:"DayRecord_Info__3hh7x",Total:"DayRecord_Total__2dSRS"}}},[[175,1,2]]]);
//# sourceMappingURL=main.dfa8d9e4.chunk.js.map